<!DOCTYPE html>
<html lang="en">
<head>  
    <title>NICS Firearm Background checks</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Monthly data collected by the FBI on firearm background checks">  
    <meta name="author" content="Justin Chill">
    <!-- OpenGraph tags -->
    <meta name="keywords" content="NICs, background checks, gun, data viz">
    <meta name="robots" content="all">
    <meta content="en_US" property="og:locale">
    <meta content="JustinChill" property="og:site_name">
    <meta content="website" property="og:type">
    <meta content="https://justinchill.com/nics.html" property="og:url"> 
    <meta content="The evolution of human flight." property="og:title">
    <meta content="Data visualization of FBI Background checks." property="og:description">
    <meta content="https://www.justinchill.com/blog.html" property="og:see_also">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Firearm background checks">
    <meta name="twitter:description" content="Monthly data collected by the FBI on firearm background checks">

    <link type="text/plain" href="humans.txt" rel="author">
    <link rel="stylesheet" href="style.css" />
  <style type="text/css">
    p img{
      float: right;
      width: 200px;
    }
  </style>
</head>
<body>
  <nav class="nav">
    <div class="nav__list">
      <a href="index.html" class="nav__item">Home</a>
      <a href="blog.html" class="nav__item">Blog</a>
    </div>
    <div class="nav__list">
      <a href="http://linkedin.com/in/justinrichardhill/" class="nav__item" target="_blank">LinkedIn</a>
      <a href="#" class="nav__item js-email-link">Email</a>
    </div>
  </nav>
  
  <main role="main">
    <article>
       <div class="article-hero">
        <h2 class="article-category">Post</h2>
        <h1 class="article-title">Check mate</h1>
        <h2 class="article-subtitle">FBI Data on firearm background checks</h2>
      </div>

      <h3>Monthly Background Checks </h3>
      <figure id="barplot" class="mid-size"></figure>
      <figcaption class="mid-size">Data: <a href="https://www.fbi.gov/file-repository/nics_firearm_checks_-_month_year_by_state_type.pdf/view">FBI.gov</a></figcaption>

    <p>Following the implementation of <a href="https://www.atf.gov/rules-and-regulations/brady-law">the Brady act</a> in 1994, the Federal Bureau of Investigation (FBI) developed a system to conduct background checks on those wishing to obtain a firearm. The system known as the <strong>National Instant Criminal Background Check System</strong> (<abbr>NICS</abbr>) was created in collaboration with the Bureau of Alcohol, Tobacco and Firearms and local law enforcement agencies. Since it's inception in November 1998, the FBI has released monthly data from each state and U.S territory. The FBI claims that over 300 million requests have been aprroved, and 1.5 million have been denied.</p> 

    <p>The FBI’s background check numbers come with caveats. These numbers show only the number of firearm background checks initiated through the NICS. <strong>They don't represent</strong> the number of firearms sold. Due to varying state laws a one-to-one correlation cannot be made between a firearm background check and a firearm sale. Kentucky runs a new check on each concealed carry license holder each month. And of course, the FBI’s numbers don’t include private gun sales, many of which do not require a background check.</p>

    <h3>NICS Background Checks - past 36 months</h3>
    <figure id="recent" class=""></figure>
    <figcaption class="">Data: <a href="https://www.fbi.gov/file-repository/nics_firearm_checks_-_month_year_by_state_type.pdf/view">FBI.gov</a></figcaption>

    <p>The data suggest that Americans’ interest in guns surged in 2020, coinciding with major world events. Numbers spiked in March as the coronavirus outbreak spread and Americans worried that the government might be unable to cope with increased crime caused by economic hardships or, conversely, that lockdowns would be an excuse to enact stricter gun control. The designation of gun shops as “essential” in some states, allowing them to stay open during lockdowns, probably helped sales. They climbed again in June as the country was enveloped in chaos after the police killing of <a href="https://justinchill.com/8m46s.html">George Floyd</a>.</p>    

    <h3>Total NICS checks conducted</h3>
    <figure id="line"></figure>
    <figcaption>Data: <a href="https://www.fbi.gov/file-repository/nics_firearm_checks_-_month_year_by_state_type.pdf/view">FBI.gov</a></figcaption>
    <p>Gun buyers are required to submit to a background check through the National Instant Criminal Background Check System (NICS).</p>
    <p>A prospective buyer fills out <a href="https://www.atf.gov/firearms/atf-form-4473-firearms-transaction-record-revisions" target="_blank">ATF Form 4473</a> and the federally licensed firearms dealers relays this information to the <a href="https://www.fbi.gov/services/cjis/nics" target="_blank">NICS</a>. NICS staff perform a background check to verify the prospective buyer does not have a criminal record and is not otherwise ineligible to purchase a firearm<a href="#usaf" aria-describedby="footnote-label" id="usaf-ref"></a>.</p>
    <h3>Prohibited Persons</h3>
    <p>The following groups are currently <a href="https://www.atf.gov/firearms/identify-prohibited-persons" target="_blank">prohibited</a> from owning guns:</p>
    <ul><li data-block-key="au8h7">Convicted felons</li><li data-block-key="f3ndn">People under federal domestic restraining orders</li><li data-block-key="f92l1">People convicted of misdemeanor domestic violence crimes against victims they have been married to, lived with, or had a child with</li><li data-block-key="3m3ru">People committed to a mental-health facility, or a court ruled were mentally unfit</li><li data-block-key="ag5oc">Fugitives</li><li data-block-key="arku">People convicted of drug crimes or determined to by a court to be addicted to an illegal controlled substance</li></ul>

    <!-- <p>Starting in 2006 we can see a noticeable increase in the number of firearms checked processed for the state of Kansas. This is due to a <a href="https://apps.legislature.ky.gov/law/statutes/statute.aspx?id=47039">policy</a> change thatrequires automatic monthly background checks on every holder of concealed-carry permits in the commonwealth.</p> -->

    <h3>Transaction types</h3>
    <p>The FBI categorizes each background check by type of firearm: 
      <ol>
        <li>Pre-Pawn—background checks requested by an officially-licensed FFL on prospective firearm transferees seeking to pledge or pawn a firearm as security for the payment or repayment of money, prior to actually pledging or pawning the firearm.</li>
        <li>Redemption—background checks requested by an officially-licensed FFL on prospective firearm transferees attempting to regain possession of a firearm after pledging or pawning a firearm as security at a pawn shop.</li>
        <li>Returned/Disposition—background checks requested by criminal justice/law enforcement agencies prior to returning a firearm in its possession to the respective transferee, to ensure the individual is not prohibited.</li>
        <li>Rentals—background checks requested by an officially-licensed FFL on prospective firearm transferees attempting to possess a firearm when the firearm is loaned or rented for use off the premises of the business.</li>
        <li>Private Sale—background checks requested by an officially-licensed FFL on prospective firearm transferees attempting to possess a firearm from a private party seller who is not an officially-licensed FFL.</li>
        <li>Return to Seller-Private Sale—background checks requested by an officially-licensed FFL on prospective firearm transferees attempting to possess a firearm from a private party seller who is not an officially-licensed FFL.</li>
      </ol>
    </p>

    <h3>About the data</h3>
    <p><img src="https://upload.wikimedia.org/wikipedia/commons/e/ed/Emblem_of_the_National_Instant_Criminal_Background_Check_System_%28FBI%29.jpg" loading="lazy">Sourced from the FBI's National Instant Criminal Background Check System (NICS) and made accessible through Buzzfeed News' <a href="https://github.com/BuzzFeedNews/nics-firearm-background-checks?tab=readme-ov-file">data repository</a>, the data visualized here provides an important look into the demand of firearms in the United States. The Brady Handgun Violence Prevention Act of 1993 played a significant role in this data collection process, facilitating the instant screening of prospective gun buyers to determine their eligibility for firearm ownership. Before a purchase is completed, sellers are required to contact NICS for a background check to ensure that the buyer does not have a criminal record, restraining orders, or other disqualifications, such as being a convicted felon or having a history of mental illness. The data derived from NICS checks offers important insights into the impact of these regulations on the firearms market and, by extension, discussions surrounding gun violence, gun control debates, and the gun production and market dynamics in the United States.</p>
    <img src="https://www.thetrace.org/wp-content/uploads/2015/07/5372331238_5d56cfb371_b.jpg" class="full-bleed" loading="lazy">
</article>
</main>
<footer>
    <h2 id="footnote-label">Footnotes</h2>
    <ol>
      <li id="usaf"><a href="https://usafacts.org/articles/firearm-background-checks-explained/">USA Facts, <i>Firearm background checks: Explained</i> </a>.<a href="#usaf-ref" aria-label="Back to content">↩</a></li>
    </ol>

    <div>
      <p>Justin Chill © 2024. Thanks for reading!</p>
      <span><a href="https://github.com/JustinChill/JustinChill.github.io" target="_blank"><img src="imgs/github.svg" class="icon">Source code and feedback</a></span>    
    </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/d3"></script>
<script src="https://cdn.jsdelivr.net/npm/@observablehq/plot"></script>


<script type="text/javascript">
  var elementMid = d3.select('figure.mid-size').node();
  var widthMid = elementMid.getBoundingClientRect().width; // get width of figure.mid-size so graphic is responsive
  var element = d3.select('figure:last-of-type').node();
  var width = element.getBoundingClientRect().width; // get width of figure so graphic is responsive. Todo / hacky
  var size = 12;

  // Use Promises to async request data
  var promises = [d3.csv("https://raw.githubusercontent.com/BuzzFeedNews/nics-firearm-background-checks/master/data/nics-firearm-background-checks.csv",d3.autoType)];
  myDataPromises = Promise.all(promises);

  // After data is successfully fetched, generate viz
  myDataPromises.then(function(data) {
    
    // Define the data
    var data = data[0];
    console.log(data);
    var extent = d3.extent(
      data.map((o) => o.month)
    );
    var rollup = Array.from(
      d3
        .rollup(
          data,
          function (a) {
            let month = a[0].month;
            let total = d3.sum(a, (a) => a.totals);
            return { month, total };
          },
          (o) => o.month
        )
        .values()
    );
    var max = d3.max(rollup, (o) => o.total);
    var recentdates = rollup.filter(function(d,i){
       return i < 37; 
     });

    var nics_stackedarea = {
      width: width,
      style:{fontSize: size},
      // marginBottom: 40,
      marginLeft: 20,
      marginRight: 0,
      marginTop: 20,
      x: {
        label: null,
        clamp: true,
        tickSize: 2,
      },
      y: {
        // labelAnchor: "center",
        labelOffset: 30,
        tickSize: 2,
        grid: true,
        nice: true,
        label: "(%)",
        percent: true,
      },
      style: {
        background: "hsla(209, 23%, 99%, 1)",
        color: "rgba(0, 0, 0, 0.84)",
      },
      color: {
        scheme: "pastel1",
        reverse: true,
      },
      marks: [
        // Plot.line(data, {x: "month", y: "totals", z: "state",stroke: "state", strokeWidth: 2, title: "state"}),
        Plot.areaY(data, Plot.stackY({
          x: "month",
          y: "totals",
          fill: "state",
          title: "state",
          order: "month",
          offset: "expand",
          curve: "basis",
          reverse: true          
        })),
        Plot.text(data, Plot.selectFirst(Plot.stackY({
          x: "month", 
          y: "totals", 
          // z: "state", 
          text: d => d.totals > 45000 ? d.state : "",
          offset: "expand", 
          reverse: true,
          textAnchor: "start",
          rotate: width > 450 ? 0 : 30,
          dx: 5,
          fill: "state"}))),
      ]
    };

    // Inspired by https://observablehq.com/d/e9f848e0c316f88a
    var barplot = {
      width: widthMid,
      marginTop: 50,
      style:{fontSize: size},
      x: { nice: false, label: null,},
      color: {legend: true},
      y: {
        nice: true,
        label: "Total background checks",
        anchor: "top-left",
        ticks: 4,
        grid: true,

          tickFormat: (d, i, _) => (i === _.length > 1 ? `$${d}` : d) // Show $ on first tick only
      },
      marks: [
        Plot.axisY({
          tickSize: 0, // don’t draw ticks
          dx: 2, // offset right
          dy: -6, // offset up
          ticks: 4,
          lineAnchor: "bottom", // draw labels above grid lines
          tickFormat: (n,i) => (i > 0 ? `${d3.format("0.1f")(n / 10 ** 6)}M` : n), // Don't show on zero
        }),
        Plot.rectY(rollup, Plot.pointerX({x: "month", y: "total", fill: "black", stroke: "black", interval: d3.utcMonth,})),
        Plot.rectY(rollup, {
          x: "month",
          interval: d3.utcMonth,
          y: "total",
          stroke: (d) => d3.interpolateReds(d.total / max),
          fill: (d) => d3.interpolateReds(d.total / max),
          fillOpacity: .65,
          strokeOpacity: .65,
          inset: 0,
          tip: true,
          title: (d) =>
            `${d3.utcFormat("%B %Y")(d.month)}: ${d3.format(",")(
              d.total
            )} background checks`
        }),
        Plot.text(rollup.filter(d => (d.month == "Mon Dec 31 2012 19:00:00 GMT-0500 (Eastern Standard Time)")), {text: d => 'Sandy Hook', x: "month", y: "total", dy: -45, dx: -10, frameAnchor: "right", lineWidth: 20, fill: "currentColor", fontSize: size+1, stroke: "white", strokeWidth: .95, strokeOpacity: .75, lineHeight: 1.4}),
        Plot.text(rollup.filter(d => (d.month == "Thu Dec 31 2015 19:00:00 GMT-0500 (Eastern Standard Time)")), {text: d => 'San Bernadino attack', x: "month", y: "total", dy: -65, dx: -10, frameAnchor: "right", lineWidth: 20, fill: "currentColor", fontSize: size+1, stroke: "white", strokeWidth: .95, strokeOpacity: .75, lineHeight: 1.4}),
        Plot.text(rollup.filter(d => (d.month == "Thu Dec 31 2020 19:00:00 GMT-0500 (Eastern Standard Time)")), {text: d => 'January 6th', x: "month", y: "total", dy: -4, dx: -10, frameAnchor: "right", lineWidth: 20, fill: "currentColor", fontSize: size+1, stroke: "white", strokeWidth: .95, strokeOpacity: .75, lineHeight: 1.4}),
      ]
    };

    var recent = {
      width: width,
      marginTop: 30,
      style:{fontSize: size},
      x: { nice: false, label: null,},
      color: {legend: true},
      y: {
        tickFormat: (n) => `${d3.format("0.1f")(n / 10 ** 6)}M`,
        nice: true,
        label: "Total background checks",
        labelArrow: null,
        anchor: "top-left",
        grid: true,
        tickSize: 0,
        ticks: 5,
      },
      marks: [
        Plot.rectY(recentdates, Plot.pointerX({x: "month", y: "total", fill: "black", stroke: "black", interval: d3.utcMonth,})),
        Plot.rectY(recentdates, {
          x: "month",
          interval: d3.utcMonth,
          y: "total",
          stroke: (d) => d3.interpolateReds(d.total / max),
          fill: (d) => d3.interpolateReds(d.total / max),
          fillOpacity: .65,
          strokeOpacity: .65,
          inset: 0,
          tip: true,
          title: (d) =>
            `${d3.utcFormat("%B %Y")(d.month)}: ${d3.format(",")(
              d.total
            )} background checks`
        }),
      ]
    };

    console.log(rollup);
    // https://archive.is/LgTjK
    var line = {
      width: width,
      marginTop: 30,
      style:{fontSize: size, textTransform: `capitalize`},
      x: { nice: false, label: null,interval: d3.utcMonth,},
      color: {legend: true},
      y: {
        tickFormat: (n) => `${d3.format("0.1f")(n / 10 ** 6)}M`,
        nice: true,
        label: "Total background checks",
        labelArrow: null,
        anchor: "top-left",
        grid: true,
        zero: true,
        ticks: 5,
        tickSize: 0,
      },
      marks: [
        Plot.ruleY([0], {stroke: "#000", strokeWidth: .4, strokeLinecap: "round", strokeOpacity: .95}),
        Plot.lineY(rollup, {sort: "month", x: "month", y: "total", curve: "catmull-rom", strokeWidth: 1, stroke: "steelblue"}),
        Plot.lineY(rollup, Plot.windowY({k: 28, anchor: "end"}, {x: "month", y: "total", stroke: "darkblue", strokeWidth: 2, tip: {
          opacity: 0.9,
          textPadding: 10,
          lineHeight: 1.5,
        }})),
        Plot.text(rollup, Plot.selectLast({text: d => 'Seasonally adjusted', x: "month", y: "total", dy: -100, dx: 40, frameAnchor: "left", lineWidth: 20, fill: "darkblue", fontSize: size+1, stroke: "white", strokeWidth: .95, strokeOpacity: .75, lineHeight: 1.4})),
      ]
    };

    document.getElementById("barplot").appendChild(Plot.plot(barplot));
    document.getElementById("recent").appendChild(Plot.plot(recent));
    // document.getElementById("nics_stackedarea").appendChild(Plot.plot(nics_stackedarea));
    document.getElementById("line").appendChild(Plot.plot(line));
  });
  </script>
</body>
</html>