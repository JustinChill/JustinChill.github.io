<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
  <title>Palmer's Penguins</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Penguins at Palmer Station Antarctica">
  <meta name="author" content="Justin Chill">
  <!-- OpenGraph tags -->
  <meta name="keywords" content="penguins, chart, graph, data viz">
  <meta name="robots" content="all">
  <meta content="en_US" property="og:locale">
  <meta content="website" property="og:type">
  <meta content="Penguins at Palmer Station Antarctica" property="og:title">
  <meta content="Interactive map on cannabis legalization, medical use, and recreational use by US state." property="og:description">
  <meta property="og:image" content="https://public.tableau.com/static/images/Pe/PenguinsatPalmerStationAntarcticaLTER/Week28/4_3_hd.png" data-rh="true">
  <meta content="1200" property="og:image:width">
  <meta content="630" property="og:image:height">
  <meta content="Penguins at Palmer Station Antarctica" property="og:image:alt">
  <meta content="https://www.justinchill.com/blog.html" property="og:see_also">
  <link rel="canonical" href="https://www.justinchill.com/penguins.html">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Penguins at Palmer Station Antarctica">
  <meta name="twitter:description" content="Data visualization of penguins at Palmer Station Antarctica.">
  <meta name="twitter:image" content="https://public.tableau.com/static/images/Pe/PenguinsatPalmerStationAntarcticaLTER/Week28/4_3_hd.png">
  <meta name="twitter:image:width" content="800">
  <meta name="twitter:image:height" content="418">
  <meta name="twitter:image:alt" content="Penguins at Palmer Station Antarctica">
  
  <link type="text/plain" href="humans.txt" rel="author">
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#4C63B6">
  
  <script type="module">
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');
  </script>
  
  <style type="text/css">
    .article-subtitle{
      margin-bottom: 1rem;
    }
    [class*="-swatches-wrap"]{
      justify-content: center;
    }

    g[aria-label*="tip"] tspan:first-of-type {{
      font-weight: 700;
    }

</style>
</head>
<body>
  <nav class="nav">
    <div class="nav__list">
      <a href="index.html" class="nav__item">Home</a>
      <a href="blog.html" class="nav__item">Blog</a>
    </div>
    <div class="nav__list">
      <a href="http://linkedin.com/in/justinrichardhill/" class="nav__item" target="_blank">LinkedIn</a>
      <a href="#" class="nav__item js-email-link">Email</a>
    </div>
  </nav>
  
  <main role="main">
    <article>
     <div class="article-hero">
      <h2 class="article-category">Post</h2>
      <h1 class="article-title">Out of sight, out of mind</h1>
      <h2 class="article-subtitle">Penguins at Palmer Station Antarctica Long-Term Ecological Research site</h2>
    </div>

    <figure id="scatter" class=""></figure>
    <figcaption>Source: Structural size measurements and isotopic signatures</figcaption>

    <h2>Bill Length vs. Body Mass</h2>
    <figure id="facets" class=""></figure>

    <p>At the Palmer Station, three species of Penguins were measured on variuos structural aspects like Body Mass, Bil Length, Bill Depth and Flipper Length. PAL scientists have documented an 85 percent reduction in Adélie penguin populations along the western Antarctic Peninsula since 1974.</p>
    <img src="imgs/penguin-bill.jpg" loading="lazy">

    <div class="videoContainer">
          <video controls="" height="360" id="sunVideo" poster="https://antarcticsun.usap.gov/science/images8/lteranniversary-banner.jpg" preload="none" width="640"><source src="/science/images8/lteranniversary.mp4" type="video/mp4"> <source src="https://antarcticsun.usap.gov/science/images8/lteranniversary.mp4" type="video/webm"></video>

          <div id="videoButton" style="visibility: visible;">&nbsp;</div>

          <div class="videoText">Produced by Lauren Lipuma for the U.S. Antarctic Program. This animation shows how the populations of Adélie, Chinstrap, and Gentoo penguins around Anvers Island have changed from 1980 to 2020. One penguin represents 500 breeding pairs. Data courtesy of Bill Fraser. Numbers of penguins are estimates.</div>
          </div>

    <figure id="waffle" class=""></figure>

    <img src="https://impact.economist.com/ocean/images/more-penguins?f=auto&w=1920" loading="lazy" alt="More penguins">
    <img src="https://impact.economist.com/ocean/images/macaroni-penguins-on-their-voyage?f=auto&w=1920" loading="lazy" alt="Macaroni Penguins on their voyage">
  </article>
</main>
<footer>
  <h2 id="footnote-label">Footnotes</h2>
  <ol>
    <li id="pew"><a href="https://www.pewresearch.org/short-reads/2024/02/29/most-americans-now-live-in-a-legal-marijuana-state-and-most-have-at-least-one-dispensary-in-their-county/">Pew Research Center, <i>Most Americans now live in a legal marijuana state – and most have at least one dispensary in their county</i> </a>.<a href="#pew-ref" aria-label="Back to content">↩</a></li>
  </ol>

  <div>
    <p>Justin Chill © 2024. Thanks&nbsp;for&nbsp;reading!</p>
    <span><a href="https://github.com/JustinChill/JustinChill.github.io" target="_blank"><img src="imgs/github.svg" class="icon">Source code and feedback</a></span>    
  </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/d3"></script>
<script src="https://cdn.jsdelivr.net/npm/@observablehq/plot"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/topojson@3.0.2/dist/topojson.min.js"></script>

<script type="text/javascript">
  var element = d3.select('figure').node();
  var width = element.getBoundingClientRect().width; // get width of article so graphic is responsive
  var size = 12;
  
  // Use Promises to async request data
  // Todo remove "State laws" from .csv
  var promises = [d3.csv("data/penguins.csv",d3.autoType)];

  myDataPromises = Promise.all(promises);

  // After data is successfully fetched, generate viz
  myDataPromises.then(function(data) {
    // Define the data. There's gotta be a better way to do this:
    var penguins = data[0];

    var scatter = {
      width: width,
      style:{fontSize: size},
      grid: true,
      nice: true,
      color: { legend: true },
      marks: [
        Plot.dot(penguins, {
          x: "culmen_length_mm",
          y: "culmen_depth_mm",
          stroke: "species"
        }),
        Plot.density(penguins, {
          x: "culmen_length_mm",
          y: "culmen_depth_mm",
          fill: "species",
          fillOpacity: 0.05
        })
      ]
    };

    var facets = {
      width: width,
      style:{fontSize: size, textTransform: "capitalize"},
      grid: true,
      nice: true,
      color: { legend: true },
      facet: {data: penguins, x: "species", label: null, },
      x: {nice: true},
      marks: [
        Plot.linearRegressionY(penguins, {x: "culmen_length_mm", y: "body_mass_g", stroke: "currentColor", ci: .99, strokeDasharray: [4, 8], strokeOpacity: .25}),
        Plot.dot(penguins, {
          x: "culmen_length_mm",
          y: "body_mass_g",
          stroke: "species",
          symbol: "sex",
          tip: {
            opacity: 0.9,
            textPadding: 10,
            lineHeight: 1.65,
            fontSize: size
          },
        }),
      ]
    };

    var waffle = {
      style:{fontSize: size},
      marks: [
        Plot.waffleY(
          penguins,
          Plot.groupX(
            { y: "count" },
            {
              x: "species",
              fill: "species",
              unit: 8,
              sort: { x: "y", reverse: true }
            }
          )
        ),
        Plot.ruleY([0])
      ]
    }
    // https://public.tableau.com/app/profile/unmesh.panigrahy/viz/PenguinsatPalmerStationAntarcticaLTER/Week28
    
    // Nice scatter plot to recreate: https://observablehq.com/d/7e3742f5f8e13db9

    document.getElementById("scatter").appendChild(Plot.plot(scatter));
    document.getElementById("facets").appendChild(Plot.plot(facets));
    document.getElementById("waffle").appendChild(Plot.plot(waffle));
  });
</script>
</body>
</html>