<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
  <title>Visualizing video game sales</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Analyzing video game ratings and performance">
  <meta name="author" content="Justin Chill">
  <!-- OpenGraph tags -->
  <meta name="robots" content="all">
  <meta content="en_US" property="og:locale">
  <meta content="JustinChill" property="og:site_name">
  <meta content="article" property="og:type">
  <meta content="https://justinchill.com/videogames.html" property="og:url">
  <meta content="Visualizing video game sales" property="og:title">
  <meta content="Analyzing video game ratings and performance" property="og:description">
  <meta content="https://www.justinchill.com/blog.html" property="og:see_also">
  <link rel="canonical" href="https://www.justinchill.com/videogames.html">

  <meta content="https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=2670&auto=format&fit=crop"
    property="og:image">
  <meta content="https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=2670&auto=format&fit=crop"
    property="twitter:image">
  <meta content="Retro arcade game." property="og:image:alt">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Visualizing video game sales">
  <meta name="twitter:description" content="Analyzing video game ratings and performance">

  <link type="text/plain" href="humans.txt" rel="author">
  <link rel="preload" href="style.css" as="style" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#4C63B6">

  <script type="module">
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');
  </script>

  <style type="text/css">

  </style>
</head>

<body>
  <nav class="nav" role="navigation">
    <div class="nav__list">
      <a href="index.html" class="nav__item" aria-label="Homepage">Home</a>
      <a href="blog.html" class="nav__item" aria-label="Blog section">Blog</a>
      <a href="now.html" class="nav__item" aria-label="Now page">Now</a>
    </div>
    <div class="nav__list">
      <a href="http://linkedin.com/in/justinrichardhill/" class="nav__item" target="_blank">LinkedIn</a>
      <a href="#" class="nav__item js-email-link">Email</a>
    </div>
  </nav>

  <main role="main">
    <article>
      <div class="article-hero">
        <h2 class="article-category">Post</h2>
        <h1 class="article-title">Video-game consoles</h1>
        <h2 class="article-subtitle">Units sold (lifetime), m</h2>
      </div>

      <figure id="consoles" aria-label="Bar chart showing lifetime sales of video game consoles by generation">
      </figure>
      <figcaption>Sources: videogameconsolelibrary.com; VGchartz.com; Wikipedia; The Economist</figcaption>

      <img
        src="https://www.economist.com/cdn-cgi/image/width=384,quality=80,format=auto/sites/default/files/images/2013/05/blogs/graphic-detail/20130525_gdc970.png"
        alt="The Economist video game console sales chart" loading="lazy">
      <figcaption>Source: <a href="https://www.economist.com/graphic-detail/2013/05/21/game-on">The Economist</a>
      </figcaption>
    </article>
  </main>
  <footer>
    <h2 id="footnote-label">Footnotes</h2>
    <ol>

    </ol>
    <div>
      <p>Justin Chill &copy; 2026</p>
      <span><a href="https://github.com/JustinChill/JustinChill.github.io" target="_blank"><img src="imgs/github.svg"
            alt="GitHub logo" class="icon">Source code</a></span>
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/d3"></script>
  <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot"></script>

  <script type="text/javascript">
    var element = d3.select('figure').node();
    var width = element.getBoundingClientRect().width; // get width of article so graphic is responsive
    var size = 12;

    // Use Promises to async request data
    var promises = [d3.csv("data/consoles.csv", d3.autoType)];
    myDataPromises = Promise.all(promises);

    // After data is successfully fetched, generate viz
    myDataPromises.then(function (data) {

      var data = data[0];

      // Calculate totals per generation for bubbles
      var genTotals = d3.rollup(data, v => {
        return {
          total: d3.sum(v, d => d.Units),
          middle: v[Math.floor(v.length / 2)].Console
        };
      }, d => d.Generation);

      var totalsArray = Array.from(genTotals, ([Generation, val]) => ({
        Generation,
        total: val.total,
        middle: val.middle
      }));

      // Colors per generation to match The Economist image
      const genColors = {
        "1st": "#89B679", // Green
        "2nd": "#C4A751", // Brown/Gold
        "3rd": "#5EA5C3", // Blue
        "4th": "#A57CBa", // Purple
        "5th": "#4CB8A7", // Teal
        "6th": "#7F8FA9", // Grey-Blue
        "7th": "#E68458", // Orange
        "8th": "#E883C7" // Pink
      };

      const bgColors = {
        "1st": "#EBF4E9",
        "2nd": "#F7F3EA",
        "3rd": "#EBF4FA",
        "4th": "#F5EFF7",
        "5th": "#EDF9F8",
        "6th": "#F2F3F4",
        "7th": "#FDF4EE",
        "8th": "#FDEDFA"
      };

      var options = {
        width: width,
        height: 800,
        marginLeft: 320, // Space for: Generation band (30px) + Timeline/Name (290px)
        marginRight: 100, // Space for Bubbles
        grid: true,
        x: {
          axis: "top",
          label: "Units sold (lifetime), m",
          domain: [0, 160],
          nice: true
        },
        fy: {
          label: null,
          domain: ["1st", "2nd", "3rd", "4th", "5th", "6th", "7th", "8th"],
          padding: 0 // Remove padding between facets for continuous look
        },
        y: {
          axis: null,
          domain: data.map(d => d.Console) // Keep data order
        },
        style: {
          fontFamily: "Roboto, sans-serif",
          fontSize: 12,
          overflow: "visible" // Allow marks to show in margins
        },
        marks: [
          // 4. BUBBLE SECTION (Right) - Draw first to stay behind if needed, or order doesn't matter much
          Plot.dot(totalsArray, {
            fy: "Generation",
            x: 180, // Position in right margin
            y: "middle",
            r: d => Math.sqrt(d.total) * 4,
            fill: d => genColors[d.Generation],
            stroke: "white",
            strokeWidth: 2,
            clip: false,
            tip: true,
          }),
          // Plot.text(totalsArray, {
          //   fy: "Generation",
          //   x: 180,
          //   y: "middle",
          //   text: d => Math.round(d.total),
          //   fill: "white",
          //   fontWeight: "bold",
          //   clip: false
          // }),

          // 1. GENERATION SECTION (Far Left)
          // Background band for Generation
          Plot.barX(data, {
            x1: -320,
            x2: -290,
            fy: "Generation",
            y: "Console",
            fill: d => genColors[d.Generation],
            clip: false
          }),
          // Generation Label (Rotated)
          Plot.text(data, Plot.selectFirst({
            filter: d => true,
            x: -305,
            y: "Console",
            fy: "Generation",
            text: d => d.Generation,
            rotate: -90,
            fill: "white",
            fontWeight: "bold",
            fontSize: 13,
            clip: false
          })),

          // 2. TIMELINE / CONSOLE NAME SECTION (Left)
          // Background color for name section
          Plot.barX(data, {
            x1: -290,
            x2: 0,
            fy: "Generation",
            y: "Console",
            fill: d => bgColors[d.Generation],
            clip: false
          }),
          // Console Name
          Plot.text(data, {
            x: -45, // Leave space for year
            y: "Console",
            fy: "Generation",
            text: d => d.Console,
            textAnchor: "end",
            fill: "#333",
            clip: false
          }),
          // Launch Year (Timeline column)
          Plot.text(data, {
            x: -5,
            y: "Console",
            fy: "Generation",
            text: d => {
              const yearStr = d.Launch.toString();
              return d.Console.includes("Odyssey") && d.Generation === "1st" ? yearStr : "'" + yearStr.slice(2);
            },
            textAnchor: "end",
            fill: "#555",
            fontStyle: "italic",
            fontVariantNumeric: "tabular-nums",
            clip: false
          }),
          // Vertical "Launch" line at 0
          Plot.ruleX([0]),
          // "Launch" Label at top of timeline
          Plot.text(["Launch"], {
            frameAnchor: "top",
            x: -5,
            dy: -15,
            fy: "Generation",
            textAnchor: "end",
            fontStyle: "italic",
            fontSize: 10,
            fill: "#555",
            clip: false
          }),

          // 3. BAR CHART SECTION (Center)
          // Background for bar area (optional, to keep grid visible against white?)
          // Plot.frame({ stroke: "#ccc" }), 

          // The Bars
          Plot.barX(data, {
            x: "Units",
            y: "Console",
            fy: "Generation",
            fill: d => genColors[d.Generation],
            title: d => `${d.Console}\nLaunched: ${d.Launch}\nSold: ${d.Units}m`
          }),
        ]
      };

      document.getElementById("consoles").appendChild(Plot.plot(options));
    });
  </script>
</body>

</html>