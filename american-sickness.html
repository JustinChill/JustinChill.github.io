<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
  <title>American Sickness | Justin Chill</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description"
    content="How did healthcare, the caring endeavor, become healthcare, the highly profitable industry?">
  <meta name="author" content="Justin Chill">
  <!-- OpenGraph tags -->
  <meta name="robots" content="all">
  <meta content="en_US" property="og:locale">
  <meta content="JustinChill" property="og:site_name">
  <meta content="article" property="og:type">
  <meta content="https://justinchill.com/american-sickness.html" property="og:url">
  <meta content="American Sickness | Justin Chill" property="og:title">
  <meta content="How did healthcare, the caring endeavor, become healthcare, the highly profitable industry?"
    property="og:description">
  <meta content="https://www.justinchill.com/blog.html" property="og:see_also">
  <link rel="canonical" href="https://www.justinchill.com/american-sickness.html">

  <meta content="https://www.justinchill.com/imgs/cover/americansickness_cover.webp" property="og:image">
  <meta content="https://www.justinchill.com/imgs/cover/americansickness_cover.webp" property="twitter:image">
  <meta content="A chart showing healthcare spending per capita vs life expectancy for OECD countries."
    property="og:image:alt">

  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="American Sickness | Justin Chill">
  <meta name="twitter:description"
    content="How did healthcare, the caring endeavor, become healthcare, the highly profitable industry?">

  <link type="text/plain" href="humans.txt" rel="author">
  <link rel="preload" href="style.css" as="style" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#4C63B6">

  <script type="module">
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');
  </script>

  <style type="text/css">
    #spending [aria-label="x-axis label"],
    #spending [aria-label="y-axis label"] {
      font-family: "Camphor", Arial, Helvetica, sans-serif;
      font-size: 1.0625rem;
      letter-spacing: -0.03px;
      line-height: calc(1.5em + .2vw);
    }

    @media screen and (max-width: 680px) {

      #spending [aria-label="x-axis label"],
      #spending [aria-label="y-axis label"] {
        font-size: .9rem;
      }
    }
  </style>
</head>

<body>
  <nav class="nav" role="navigation">
    <div class="nav__list">
      <a href="index.html" class="nav__item" aria-label="Homepage">Home</a>
      <a href="blog.html" class="nav__item" aria-label="Blog section">Blog</a>
      <a href="now.html" class="nav__item" aria-label="Now page">Now</a>
    </div>
    <div class="nav__list">
      <a href="http://linkedin.com/in/justinrichardhill/" class="nav__item" target="_blank">LinkedIn</a>
      <a href="#" class="nav__item js-email-link">Email</a>
    </div>
  </nav>

  <main role="main">
    <article>
      <div class="article-hero">
        <h2 class="article-category">Live Free & Die</h2>
        <h1 class="article-title">American Sickness</h1>
        <h2 class="article-subtitle"></h2>
      </div>

      <span class="header-tag"><img src="imgs/tag.svg" alt="Chart header tag"></span>
      <h2>Under the microscope</h2>
      <h4>Life expectancy vs. health expenditure, 1970 to 2022</h4>
      <figure id="spending"
        aria-label="A line chart showing Life expectancy vs. health expenditure, 2022 data, for world countries.">
        <figcaption class="right">Data: <a
            href="https://ourworldindata.org/grapher/life-expectancy-vs-health-expenditure">UN, World Population
            Prospects (2024); OECD Health Expenditure Database</a></figcaption>
      </figure>

      <p>The United States, on a per capita basis, spends more on healthcare than any other developed country in the
        world, yet Americans live longer than only eight other countries. According to a study in <em>Health
          Affairs</em><a href="#jhph" aria-describedby="footnote-label" id="jhph-ref"></a>, the chief reason is not
        greater health care utilization, but higher prices.</p>
      <span class="header-tag"><img src="imgs/tag.svg" alt="Chart header tag"></span>
      <figure id="slope-chart" aria-label="Annual health care spending vs Life expectancy"></figure>
      <p>In 2022, the United States spent an estimated $12,742 per person on healthcare — the highest healthcare costs
        per capita across similar countries. For comparison, Switzerland was the second highest-spending country with
        $9,044 in healthcare costs per capita, while the average for wealthy OECD countries, excluding the United
        States, was only $6,850 per person. And it was more than <strong>double</strong> the $4,559 the U.S. spent per
        capita on health care in 2000. Such comparisons indicate that the United States spends a disproportionate amount
        on healthcare. </p>
      <span class="header-tag"><img src="imgs/tag.svg" alt="Chart header tag"></span>
      <h3>Health spending has maintained a steep climb</h3>
      <figure id="growth-chart" aria-label="Health spending has maintained a steep climb"></figure>
      <span class="header-tag"><img src="imgs/tag.svg" alt="Chart header tag"></span>
      <h3>The aging U.S. population will require more care</h3>
      <figure id="aging-chart" aria-label="The aging U.S. population will require more care"></figure>

      <p>This is not exactly shocking. Uwe Reinhardt, the late Princeton health care economist, came to the same
        conclusion in the well-known 2003 <a href="https://www.ncbi.nlm.nih.gov/pubmed/12757275" target="_blank"
          rel="noopener noreferrer" title="(opens in a new window)">study</a>, “<em>It's the prices, stupid: why the
          United States is so different from other countries</em>.”</p>
      <p>To understand why life expectancy in the US is lower than these other countries, it makes sense to break the US
        population down into sub-groups and see if this observation holds universally or varies by group.</p>
      <h3>Life Expectancy in the US by Race</h3>
      <p>In <strong>40 US states, Hispanic-Americans enjoy longer life expectancy</strong> than the global average from
        all countries in our data. For <strong>Asian-Americans, this is the case in 48 states</strong>. </p>
      <p>Japan is the leader in nation-wide life-expectancy (see top of chart). In 42 US states, Asian-Americans have a
        longer life expectancy than that of Japan. The same is true for Hispanic-Americans in 25 states.</p>
      <h2>Salve Lucrum</h2>
      <p>The amount of resources a country allocates for healthcare varies as each country has its own political,
        economic, and social attributes that help determine how much it will spend. Generally, wealthier countries —
        such as the United States — will spend more on healthcare than countries that are less affluent. As such, it
        helps to compare healthcare spending in the United States to spending in <a
          href="https://www.healthsystemtracker.org/chart-collection/health-spending-u-s-compare-countries/#item-average-wealthy-countries-spend-half-much-per-person-health-u-s-spends"
          target="_blank">other comparatively wealthy countries</a> — those with gross domestic product (GDP) and per
        capita GDP above the median, relative to all OECD countries. </p>
      <figure class="full-bleed">
        <figcaption class="right"><em>Why Health Care is So Expensive</em> by <a
            href="https://www.informationisbeautifulawards.com/showcase/349-why-health-care-is-so-expensive">Heather
            Jones</a></figcaption>
        <img class="full-bleed"
          src="https://iibawards-prod.s3.amazonaws.com/projects/images/000/000/349/large.jpg?1403856485"
          alt="Why is healthcare so expensive infographic by Heather Jones." />
      </figure>
      <h3>Why do we do this?</h3>
      <p>Healthcare spending is driven by utilization (the number of services used) and price (the amount charged per
        service). An increase in either of those factors can result in higher healthcare costs. Despite spending nearly
        twice as much on healthcare per capita, utilization rates in the United States do not differ significantly from
        other wealthy OECD countries. Prices, therefore, appear to be the main driver of the cost difference between the
        United States and other wealthy countries. In fact, prices in the United States tend to be higher regardless of
        utilization rates. For example, the <a
          href="https://www.healthsystemtracker.org/chart-collection/how-do-healthcare-prices-and-use-in-the-u-s-compare-to-other-countries/#item-start"
          target="_blank">Peterson-Kaiser Health System Tracker</a> notes that the United States has shorter hospital
        stays, fewer angioplasty surgeries, and more knee replacements than comparable countries, yet the prices for
        each are higher in the United States.</p>
      <blockquote>
        <p>“It’s not that we’re getting more; it’s that we’re paying much more”</p>
        <cite>&mdash; Gerard F. Anderson, PhD</cite>
      </blockquote>
      <p>There are many possible factors for <a
          href="https://www.pgpf.org/blog/2019/03/why-are-americans-paying-more-for-healthcare">why healthcare prices in
          the United States are higher than other countries</a>, ranging from the consolidation of hospitals — leading
        to a lack of competition — to the inefficiencies and administrative waste that derive from the complexity of the
        U.S. healthcare system. In fact, the United States spends over $1,000 per person on administrative costs —
        almost five times more than the average of other wealthy countries and more than it spends on long-term
        healthcare. </p>
      <h5>Percent of Population Without Health Insurance in US States</h5>
      <span class="header-tag"><img src="imgs/tag.svg" alt="Chart header tag"></span>
      <h2>Cost control</h2>
      <figure id="noinsurance"
        aria-label="A line chart showing the percent of population without healthcare in Texas, Florida, California, and New York.">
        <figcaption class="right">Data: <a
            href="https://datacommons.org/tools/statvar#sv=Count_Person_NoHealthInsurance">Data Commons</a></figcaption>
      </figure>
      <h3>Does this Higher Spending Lead to Better Outcomes?</h3>
      <p>Higher healthcare spending can be beneficial if it results in better health outcomes. However, despite higher
        healthcare spending, America’s health outcomes are not any better than those in other developed countries. The
        United States actually performs worse in some common health metrics like life expectancy, infant mortality,
        unmanaged diabetes, and safety during childbirth<a href="#pete" aria-describedby="footnote-label"
          id="pete-ref"></a>.</p>
      <p>A healthcare system with high costs and poor outcomes undermines our economy and threatens our long-term fiscal
        and economic well-being. Fortunately, there are opportunities to transform the healthcare system into one that
        produces higher quality care at a lower cost. For more information on potential reforms, check out the <a
          href="https://www.pgpf.org/finding-solutions/healthcare" target="_blank" rel="noopener">Peterson Center on
          Healthcare</a> recommendations.</p>
      <span class="header-tag"><img src="imgs/tag.svg" alt="Chart header tag"></span>
      <h2>Live free and die</h2>
      <h3>Life expectancy in the US by income</h3>
      <figure id="income"
        aria-label="Scatter plot showing life expectancy in the US by income level, broken down by ethnicity. Generally, higher income correlates with longer life expectancy, except for Hispanic-Americans where income has less effect.">
      </figure>
      <p>In general, higher income leads to longer life expectancy, but income has little effect for life expectancy of
        Hispanic-Americans.</p>

    </article>
  </main>
  <footer>
    <h2 id="footnote-label">Footnotes</h2>
    <ol>
      <li id="jhph"><strong>Johns Hopkins Bloomberg School of Public Health</strong>, “<em><a
            href="https://publichealth.jhu.edu/2019/us-health-care-spending-highest-among-developed-countries">U.S.
            Health Care Spending Highest Among Developed Countries</a></em>"<a href="#jhph-ref"
          aria-label="Back to content">↩</a></li>
      <li id="pete"><strong>Peter G. Peterson Foundation</strong>, “<em><a
            href="https://www.pgpf.org/article/how-does-the-us-healthcare-system-compare-to-other-countries/">How Does
            the U.S. Healthcare System Compare to Other Countries?</a></em>"<a href="#pete-ref"
          aria-label="Back to content">↩</a></li>
    </ol>
    <div>
      <p>Justin Chill &copy; 2026</p>
      <span><a href="https://github.com/JustinChill/JustinChill.github.io" target="_blank"><img src="imgs/github.svg"
            alt="GitHub logo" class="icon">Source code</a></span>
    </div>
  </footer>
  <script type="text/javascript" src="js/occlusionY.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3"></script>
  <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot"></script>

  <script type="text/javascript">
    var size = width > 450 ? 16 : 12;
    var element = d3.select('figure:not(.mid-size)').node();
    var width = element.getBoundingClientRect().width;

    var stateInsurance = d3.csvParse(`entity__dcid,entity__name,entity__isoCode,variable__dcid,variable__value,variable__date,variable__unit,variable__unitDisplayName,variable__name,perCapita__value,perCapita__date,perCapita__populationVariable,perCapita__populationValue
    geoId/06,California,US-CA,Count_Person_NoHealthInsurance,4041396,2017,,,Population Without Health Insurance,0.10371810554101452,2017,Count_Person,38965193
    geoId/06,California,US-CA,Count_Person_NoHealthInsurance,3280167,2018,,,Population Without Health Insurance,0.0841819774894994,2018,Count_Person,38965193
    geoId/06,California,US-CA,Count_Person_NoHealthInsurance,2915070,2019,,,Population Without Health Insurance,0.0748121535032561,2019,Count_Person,38965193
    geoId/06,California,US-CA,Count_Person_NoHealthInsurance,2806173,2020,,,Population Without Health Insurance,0.07201742847776989,2020,Count_Person,38965193
    geoId/06,California,US-CA,Count_Person_NoHealthInsurance,2800277,2021,,,Population Without Health Insurance,0.07186611394430922,2021,Count_Person,38965193
    geoId/06,California,US-CA,Count_Person_NoHealthInsurance,2752067,2022,,,Population Without Health Insurance,0.07062885586117847,2022,Count_Person,38965193
    geoId/12,Florida,US-FL,Count_Person_NoHealthInsurance,2982945,2017,,,Population Without Health Insurance,0.13192610445148908,2017,Count_Person,22610726
    geoId/12,Florida,US-FL,Count_Person_NoHealthInsurance,2744513,2018,,,Population Without Health Insurance,0.12138102067133978,2018,Count_Person,22610726
    geoId/12,Florida,US-FL,Count_Person_NoHealthInsurance,2637268,2019,,,Population Without Health Insurance,0.11663791777406882,2019,Count_Person,22610726
    geoId/12,Florida,US-FL,Count_Person_NoHealthInsurance,2646931,2020,,,Population Without Health Insurance,0.11706528131825578,2020,Count_Person,22610726
    geoId/12,Florida,US-FL,Count_Person_NoHealthInsurance,2657226,2021,,,Population Without Health Insurance,0.11752059619845909,2021,Count_Person,22610726
    geoId/12,Florida,US-FL,Count_Person_NoHealthInsurance,2620725,2022,,,Population Without Health Insurance,0.11590627386312143,2022,Count_Person,22610726
    geoId/36,New York,US-NY,Count_Person_NoHealthInsurance,1481650,2017,,,Population Without Health Insurance,0.07570556678746992,2017,Count_Person,19571216
    geoId/36,New York,US-NY,Count_Person_NoHealthInsurance,1255168,2018,,,Population Without Health Insurance,0.06413336810548716,2018,Count_Person,19571216
    geoId/36,New York,US-NY,Count_Person_NoHealthInsurance,1117159,2019,,,Population Without Health Insurance,0.057081736770980405,2019,Count_Person,19571216
    geoId/36,New York,US-NY,Count_Person_NoHealthInsurance,1037271,2020,,,Population Without Health Insurance,0.052999823822904,2020,Count_Person,19571216
    geoId/36,New York,US-NY,Count_Person_NoHealthInsurance,1059370,2021,,,Population Without Health Insurance,0.054128982072447616,2021,Count_Person,19571216
    geoId/36,New York,US-NY,Count_Person_NoHealthInsurance,1031600,2022,,,Population Without Health Insurance,0.052710061551617435,2022,Count_Person,19571216
    geoId/48,Texas,US-TX,Count_Person_NoHealthInsurance,4916911,2017,,,Population Without Health Insurance,0.1611927509091557,2017,Count_Person,30503301
    geoId/48,Texas,US-TX,Count_Person_NoHealthInsurance,4764897,2018,,,Population Without Health Insurance,0.15620922469997592,2018,Count_Person,30503301
    geoId/48,Texas,US-TX,Count_Person_NoHealthInsurance,4791164,2019,,,Population Without Health Insurance,0.157070344616145,2019,Count_Person,30503301
    geoId/48,Texas,US-TX,Count_Person_NoHealthInsurance,4877069,2020,,,Population Without Health Insurance,0.15988659719156298,2020,Count_Person,30503301
    geoId/48,Texas,US-TX,Count_Person_NoHealthInsurance,4995381,2021,,,Population Without Health Insurance,0.16376525937307573,2021,Count_Person,30503301
    geoId/48,Texas,US-TX,Count_Person_NoHealthInsurance,5056008,2022,,,Population Without Health Insurance,0.16575281475273773,2022,Count_Person,30503301`, d3.autoType);
    var oecd = [{
      "cty": "AUS",
      "life expectancy": 82.7,
      "country": "Australia"
    }, {
      "cty": "AUT",
      "life expectancy": 81.8,
      "country": "Austria"
    }, {
      "cty": "BEL",
      "life expectancy": 81.7,
      "country": "Belgium"
    }, {
      "cty": "CAN",
      "life expectancy": 81.9,
      "country": "Canada"
    }, {
      "cty": "DNK",
      "life expectancy": 81,
      "country": "Denmark"
    }, {
      "cty": "FIN",
      "life expectancy": 81.8,
      "country": "Finland"
    }, {
      "cty": "FRA",
      "life expectancy": 82.8,
      "country": "France"
    }, {
      "cty": "DEU",
      "life expectancy": 81,
      "country": "Germany"
    }, {
      "cty": "IRL",
      "life expectancy": 82.2,
      "country": "Ireland"
    }, {
      "cty": "ITA",
      "life expectancy": 83.4,
      "country": "Italy"
    }, {
      "cty": "JPN",
      "life expectancy": 84.3,
      "country": "Japan"
    }, {
      "cty": "KOR",
      "life expectancy": 82.7,
      "country": "South Korea"
    }, {
      "cty": "NLD",
      "life expectancy": 81.9,
      "country": "Netherlands"
    }, {
      "cty": "NZL",
      "life expectancy": 81.7,
      "country": "New Zealand"
    }, {
      "cty": "NOR",
      "life expectancy": 82.8,
      "country": "Norway"
    }, {
      "cty": "PRT",
      "life expectancy": 81.5,
      "country": "Portugal"
    }, {
      "cty": "ESP",
      "life expectancy": 83.5,
      "country": "Spain"
    }, {
      "cty": "SWE",
      "life expectancy": 82.6,
      "country": "Sweden"
    }, {
      "cty": "CHE",
      "life expectancy": 83.8,
      "country": "Switzerland"
    }, {
      "cty": "GBR",
      "life expectancy": 81.3,
      "country": "United Kingdom"
    }, {
      "cty": "USA",
      "life expectancy": 78.7,
      "country": "USA"
    }, {
      "cty": "ISR",
      "life expectancy": 82.9,
      "country": "Israel"
    }];

    // Use Promises to async request data
    var promises = [d3.csv("data/life-expectancy-vs-health-expenditure@1.csv", d3.autoType), d3.csv("data/american-sickness-states.csv", d3.autoType)];
    myDataPromises = Promise.all(promises);

    // After data is successfully fetched, generate viz
    myDataPromises.then(function (data) {
      var rawdata = data[0];
      var states = data[1];
      var lifeVsMoney = rawdata.filter(d => d.Year >= 1970 && d.LifeExpectancy >= 70 && d.HealthExpenditure > 0);
      var annotatedCountries = ["United States", "Japan", "Spain", "Israel", "Portugal", "Switzerland", "Germany", "Denmark", "United Kingdom", "Norway", "New Zealand", "South Korea", "Australia", "Ireland", "Belgium", "Finland", "Netherlands", "Canada", "Austria", "Chile"];

      function color(country) {
        return country === 'United States' ? 1 : 0
      }
      // Inspired by https://observablehq.com/d/8e1bd1f9a5b1ee81
      var spending = {
        width: width,
        height: width,
        style: {
          fontSize: size,
          paddingRight: 30,
          paddingLeft: 20,
          paddingBottom: 20,
        },
        color: {
          legend: false,
          range: ["rgba(226, 226, 226, .85)", "rgb(229, 110, 90)"]
        },
        grid: true,
        x: {
          nice: true,
          tickFormat: "$f",
          tickFormat: d => d % 1000 === 0 ? d3.format("$")(d) : "", // Show numbers divisible by 1000
          label: "Health Expenditure per capita",
          lineWidth: 8,
          labelAnchor: "center",
          labelOffset: width > 450 ? 55 : 44,
        },
        y: {
          nice: true,
          ticks: 4,
          label: "Life Expectancy",
          lineWidth: 8,
          labelAnchor: "center",
          labelOffset: width > 450 ? 50 : 44,
          tickFormat: d => Number.isInteger(d) ? d : "", // Show only whole numbers
          tickSize: 0,
          lineWidth: 8,
          domain: [70, 85]
        },
        marks: [
          Plot.line(lifeVsMoney, {
            x: "HealthExpenditure",
            y: "LifeExpectancy",
            stroke: d => color(d.Entity),
            z: "Entity",
            title: "Entity",
            tip: true,
            markerEnd: "arrow"
          }),
          Plot.text(lifeVsMoney, occlusionY(Plot.selectLast({
            filter: d => annotatedCountries.includes(d.Entity),
            x: "HealthExpenditure",
            y: "LifeExpectancy",
            z: "Entity",
            text: "Entity",
            fill: "black",
            dy: -2,
            dx: 10,
            fontSize: width > 500 ? size - 2 : size,
            textAnchor: "start"
          }))),
        ],
      };

      // Inspired by https://observablehq.com/d/583a958bacfc3f71
      var noinsurance = {
        width: width,
        style: {
          fontSize: size,
        },
        y: {
          grid: true,
          label: null,
          tickFormat: ".0%",
          nice: true,
          ticks: 4,
        },
        x: {
          label: null,
          type: "point",
          tickFormat: "Y",
        },
        marks: [
          Plot.ruleY([0]),
          Plot.line(stateInsurance, {
            x: "variable__date",
            y: "perCapita__value",
            stroke: "entity__name"
          }),
          Plot.text(stateInsurance, Plot.selectLast({
            x: "variable__date",
            y: "perCapita__value",
            z: "entity__name",
            text: "entity__name",
            textAnchor: "start",
            dx: 3
          }))
        ]
      };

      // Inspired by https://observablehq.com/@ciyer/life-expectancy-in-the-us
      var cohort_mean = d3.mean(oecd.filter((d) => d.country !== "USA"), (d) => d["life expectancy"]);

      var income = {
        width: width,
        height: 250,
        marginRight: 0,
        style: {
          fontSize: size,
          paddingTop: ".75rem",
          paddingBottom: ".75rem",
        },
        // marginLeft: 0, 
        grid: true,
        color: {
          domain: ["Above average", "Below average"],
          range: ["steelblue", "gray"],
          legend: true
        },
        fx: {
          label: "Ethnicity",
          labelOffset: 40
        },
        y: {
          nice: true,
          labelAnchor: "center",
          labelOffset: 45,
          frameAnchor: "left",
          label: "Life expectancy (yrs.)",
        },
        x: {
          nice: false,
          labelOffset: 45,
          frameAnchor: "right",
          label: "Income ($)",
          ticks: 2,
        },
        facet: {
          data: states,
          x: "group",
        },
        marks: [
          Plot.frame(),
          Plot.dot(states, {
            x: "income (k$)",
            y: "life expectancy",
            fill: d => d["life expectancy"] >= cohort_mean ? "Above average" : "Below average",
            fillOpacity: 0.5,
            sort: {
              fx: "y",
              reduce: "mean"
            },
            title: (d) =>
              `${d.State}\nPopulation: ${d.population.toLocaleString()} people\nLife Expectancy: ${d["life expectancy"].toFixed(1)} years\nIncome: $${d['income (k$)']}k`
          }),
          Plot.linearRegressionY(states, {
            x: "income (k$)",
            y: "life expectancy",
            stroke: "red",
            ci: 0.95
          })
        ]
      };

      document.getElementById("spending").appendChild(Plot.plot(spending));
      document.getElementById("noinsurance").appendChild(Plot.plot(noinsurance));

      // --- Chart 1: Slope Chart (Spending vs Life Expectancy) ---
      const slopeData = [
        { country: "U.S.", type: "Spending", value: 8500, label: "$8K" },
        { country: "U.S.", type: "Life Expectancy", value: 79, label: "79" },
        { country: "Denmark", type: "Spending", value: 6000, label: "$6K" },
        { country: "Denmark", type: "Life Expectancy", value: 80.5, label: "80.5" },
        { country: "Japan", type: "Spending", value: 3500, label: "$3.5K" },
        { country: "Japan", type: "Life Expectancy", value: 83, label: "83" },
        { country: "Spain", type: "Spending", value: 3000, label: "$3K" },
        { country: "Spain", type: "Life Expectancy", value: 82.5, label: "82.5" },
        { country: "U.K.", type: "Spending", value: 3200, label: "$3.2K" },
        { country: "U.K.", type: "Life Expectancy", value: 81, label: "81" },
        { country: "Australia", type: "Spending", value: 3800, label: "$3.8K" },
        { country: "Australia", type: "Life Expectancy", value: 82, label: "82" }
      ];

      // Normalization function to map different scales to 0-1 range for display
      const spendingScale = d3.scaleLinear().domain([2000, 9000]).range([0, 1]);
      const lifeExpScale = d3.scaleLinear().domain([78, 84]).range([0, 1]);

      const slopeNormalized = slopeData.map(d => ({
        ...d,
        normalized: d.type === "Spending" ? spendingScale(d.value) : lifeExpScale(d.value)
      }));

      const slopeChart = Plot.plot({
        width: width / 2,
        height: 400,
        style: { fontSize: 12 },
        marginLeft: 40,
        marginRight: 40,
        x: {
          axis: "top",
          domain: ["Spending", "Life Expectancy"],
          tickFormat: d => d === "Spending" ? "Annual health\ncare spending" : "Life\nexpectancy",
          label: null,
          padding: 0.25
        },
        y: { axis: null },
        marks: [
          Plot.line(slopeNormalized, {
            x: "type",
            y: "normalized",
            z: "country",
            stroke: d => d.country === "U.S." ? "red" : "#ccc",
            strokeWidth: d => d.country === "U.S." ? 2 : 1
          }),
          // Labels for countries (left side)
          Plot.text(slopeNormalized.filter(d => d.type === "Spending"), {
            x: "type",
            y: "normalized",
            text: "country",
            textAnchor: "end",
            dx: -10,
            dy: 4,
            fill: d => d.country === "U.S." ? "red" : "#666"
          }),
          // Value labels (left)
          Plot.text(slopeNormalized.filter(d => d.type === "Spending"), {
            x: "type",
            y: "normalized",
            text: "label",
            textAnchor: "end", // Align text to end
            dy: -5,
            dx: 5, // Offset slightly to right of the point, effectively "inside" the line start if viewed as left-aligned
            // Actually, let's put values on the axis line or slightly left. 
            // The infographic has ticks: $8K, $6K... 
            // Let's sim ticks with text at specific values
          }),
          // Marks for points
          Plot.dot(slopeNormalized, {
            x: "type",
            y: "normalized",
            fill: d => d.country === "U.S." ? "red" : "#666",
            r: 2
          }),
          // Specific labels for U.S. values as in infographic (simulated axis labels)
          Plot.text(slopeNormalized.filter(d => d.type === "Spending"), {
            x: "type",
            y: "normalized",
            text: "label",
            textAnchor: "end",
            dx: -55,  // Move further left
            fill: "#999"
          }),
          Plot.text(slopeNormalized.filter(d => d.type === "Life Expectancy"), {
            x: "type",
            y: "normalized",
            text: "label",
            textAnchor: "start",
            dx: 10,
            fill: "#999"
          })
        ]
      });

      // --- Chart 2: Growth Chart (Spending vs GDP) ---
      const growthData = [
        { year: 1960, value: 0, series: "GDP" }, { year: 1960, value: 0, series: "Health" },
        { year: 1970, value: 15, series: "GDP" }, { year: 1970, value: 30, series: "Health" },
        { year: 1980, value: 35, series: "GDP" }, { year: 1980, value: 100, series: "Health" },
        { year: 1990, value: 60, series: "GDP" }, { year: 1990, value: 250, series: "Health" },
        { year: 2000, value: 90, series: "GDP" }, { year: 2000, value: 450, series: "Health" },
        { year: 2010, value: 110, series: "GDP" }, { year: 2010, value: 800, series: "Health" },
      ];

      const growthChart = Plot.plot({
        width: width,
        height: 300,
        marginLeft: 40,
        style: { fontSize: 11 },
        y: { grid: true, label: "Percentage growth since 1960", tickFormat: d => d + "%" },
        x: { tickFormat: "d", label: null },
        marks: [
          Plot.areaY(growthData.filter(d => d.series === "Health"), {
            x: "year", y: "value", fill: "#ccc", fillOpacity: 0.5
          }),
          Plot.areaY(growthData.filter(d => d.series === "GDP"), {
            x: "year", y: "value", fill: "#666", fillOpacity: 0.8
          }),
          Plot.line(growthData, { x: "year", y: "value", stroke: "black", strokeWidth: 1, z: "series" }),
          Plot.text([{ x: 2005, y: 50, text: "GDP" }], { x: "x", y: "y", text: "text", fill: "white" }),
          Plot.text([{ x: 2000, y: 240, text: "NATIONAL\nHEALTH CARE\nEXPENDITURES" }], { x: "x", y: "y", text: "text", fill: "#333", textAnchor: "middle", lineHeight: 1.2 }),
          Plot.text([{ x: 2002, y: 700, text: "NEARLY\nFIVE TIMES\nAS MUCH\nAS GDP" }], { x: "x", y: "y", text: "text", fill: "red", textAnchor: "middle", fontSize: 10 })
        ]
      });

      // --- Chart 3: Aging Chart ---
      const agingData = [];
      const decades = [1960, 1970, 1980, 1990, 2000, 2010, 2020, 2030, 2040, 2050, 2060];
      // Approximating the percentage shares
      // 0-19: Starts around 40%, drops to 25%?
      // Over 64: Starts low (10%), grows to ~25%?
      decades.forEach(year => {
        let over64 = 9 + (year - 1960) * 0.15; // Rough linear growth
        if (year > 2010) over64 += (year - 2010) * 0.1; // Accelerate slightly
        let zero19 = 38 - (year - 1960) * 0.15;
        let mid = 100 - over64 - zero19;

        agingData.push({ year: year, group: "Over 64", value: over64 });
        agingData.push({ year: year, group: "20-64", value: mid });
        agingData.push({ year: year, group: "0-19", value: zero19 });
      });

      const agingChart = Plot.plot({
        width: width,
        height: 300,
        x: { tickFormat: "d", label: null },
        y: { percent: true, label: "Percentage of total population", ticks: 4, tickSize: 0, grid: true },
        color: { domain: ["Over 64", "20-64", "0-19"], range: ["red", "#999", "#ccc"] },
        marks: [
          Plot.barY(agingData, { x: "year", y: "value", fill: "group", sort: { color: null } }), // Order implicitly by data or explicit helpers? Plot stacks by order of appearance usually or z
          Plot.text([{ year: 2050, value: 90 }], { x: "year", y: "value", text: () => "OVER 64", fill: "white", dy: 5 }),
          // Custom labels for the groups
        ]
      });

      document.getElementById("slope-chart").appendChild(slopeChart);
      document.getElementById("growth-chart").appendChild(growthChart);
      document.getElementById("aging-chart").appendChild(agingChart);

      document.getElementById("income").appendChild(Plot.plot(income));
    });
  </script>
</body>

</html>