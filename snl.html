<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
  <title>SNL | Justin Chill</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Charts about SNL.">
  <meta name="author" content="Justin Chill">
  <!-- OpenGraph tags -->
  <meta name="robots" content="all">
  <meta content="en_US" property="og:locale">
  <meta content="JustinChill" property="og:site_name">
  <meta content="article" property="og:type">
  <meta content="https://justinchill.com/snl.html" property="og:url">
  <meta content="SNL | Justin Chill" property="og:title">
  <meta content="Charts about SNL." property="og:description">
  <meta content="https://www.justinchill.com/blog.html" property="og:see_also">
  <link rel="canonical" href="https://www.justinchill.com/snl.html">

  <meta property="og:locality" content="New York">
  <meta property="og:region" content="NY">
  <meta property="og:country_name" content="USA">

  <meta name="datePublished" content="2025-07-12">
  <meta name="dateModified" content="2025-08-06">

  <meta content="" property="og:image">
  <meta content="" property="twitter:image">
  <meta content="" property="og:image:alt">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="SNL | Justin Chill">
  <meta name="twitter:description" content="Charts about SNL.">

  <link type="text/plain" href="humans.txt" rel="author">
  <link rel="preload" href="style.css" as="style" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#4C63B6">

  <script type="module">
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');
  </script>

  <style type="text/css">
    #snl_cast {
      position: relative;
    }

    .custom-legend {
      position: absolute;
      top: 50px;
      right: 0;
      background: #fbfaf5;
      padding: 10px 14px;
      border: 1px solid #ccc;
      font-family: var(--font-ui);
      font-size: 0.9rem;
      display: grid;
      grid-template-columns: auto auto auto;
      column-gap: 12px;
      row-gap: 4px;
      align-items: center;
      z-index: 10;
      pointer-events: none;
    }

    .legend-header {
      font-weight: 700;
      color: #000;
    }

    .legend-label {
      color: #444;
      font-weight: 400;
      font-family: var(--font-ui);
    }

    .legend-swatch {
      width: 30px;
      height: 12px;
      border-radius: 6px;
    }

    @media (max-width: 600px) {
      .custom-legend {
        position: sticky;
        top: 0;
        right: auto;
        left: 0;
        width: 100%;
        box-sizing: border-box;
        border-right: none;
        border-left: none;
        border-radius: 0;
        justify-content: center;
        pointer-events: auto;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        z-index: 100;
      }
    }
  </style>
</head>

<body>
  <nav class="nav" role="navigation">
    <div class="nav__list">
      <a href="index.html" class="nav__item" aria-label="Homepage">Home</a>
      <a href="blog.html" class="nav__item" aria-label="Blog section">Blog</a>
      <a href="now.html" class="nav__item" aria-label="Now page">Now</a>
    </div>
    <div class="nav__list">
      <a href="http://linkedin.com/in/justinrichardhill/" class="nav__item" target="_blank">LinkedIn</a>
      <a href="#" class="nav__item js-email-link">Email</a>
    </div>
  </nav>

  <main role="main">
    <article>
      <div class="article-hero">
        <h2 class="article-category">Post</h2>
        <h1 class="article-title">SNL</h1>
        <h2 class="article-subtitle"></h2>
      </div>
      <span class="header-tag mid-size"><img src="imgs/tag.svg" alt="Chart header tag"></span>
      <h3 class="mid-size">Cast Members Timeline</h3>
      <figure id="snl_cast" class="mid-size"></figure>
      <p>In 1975, Lorne Michaels, a 30-year-old Canadian producer, pitched a radical idea to NBC: a live, 90-minute
        sketch-comedy show airing in the "dead zone" of Saturday night at 11:30 PM. Michaels likened the time slot to "a
        vacant lot on the edge of town," a fringe space granting him the liberty to experiment.</p>
      <p>Fifty years later, the "Not Ready for Prime Time Players" have become the definitive institution of American
        comedy. On February 16th, Saturday Night Live (SNL) will celebrate its 50th anniversary and its 979th episode.
        What began as a countercultural experiment has evolved into a broadcasting juggernaut that has survived the
        decline of traditional television by mastering the delicate balance between rigid tradition and digital
        innovation.</p>
      <p>While the show’s debut cast—including future legends Chevy Chase and John Belushi—faced skepticism regarding
        the show&#39;s longevity, SNL’s statistical footprint is now unrivaled in television history.</p>
      <ul>
        <li><strong>Awards:</strong> SNL holds the record for the most Emmy nominations (<strong>331</strong>) and wins
          (<strong>90</strong>). By comparison, <em>Game of Thrones</em> trails in second place with 59 wins<a
            href="#Economist" aria-describedby="footnote-label" id="Economist-ref"></a>.</li>
        <li><strong>Digital Reach:</strong> While the show retains a strong linear audience, its online presence is
          massive. More than <strong>540 million</strong> users have liked its content on TikTok.</li>
        <li><strong>Viewership Split:</strong> In the current season, approximately <strong>8.4 million</strong> viewers
          watch via television and the Peacock app. However, online clips average <strong>216 million</strong> views per
          episode across platforms like YouTube and X.</li>
      </ul>
      <h3 id="the-michaels-formula-radical-conservatism">The Michaels Formula: Radical Conservatism</h3>
      <p>The show&#39;s endurance is often attributed to <strong>Lorne Michaels</strong>, now 80, who remains the
        executive producer. His longevity is rivaled in American entertainment history only by Alfred Hitchcock.
        Biographer Susan Morrison notes that Michaels’ specific genius lies not in his own performance, but in his
        ability to identify and wrangle talent.</p>
      <p>Structurally, the show remains remarkably conservative. An observer from 1975 would recognize the format of the
        2025 iteration:</p>
      <ol>
        <li><strong>The Schedule:</strong> A punishing six-day production cycle leading to a live broadcast.</li>
        <li><strong>The Format:</strong> Roughly ten sketches, two musical performances, and &quot;Weekend Update.&quot;
        </li>
        <li><strong>The Tools:</strong> The show still utilizes handwritten cue cards rather than teleprompters.</li>
      </ol>
      <p>Michaels has maintained a strategy of &quot;broad center&quot; comedy. He frequently reminds writers that their
        audience exists in &quot;all 50 states,&quot; not just coastal cities. This approach allows the show to tackle
        sensitive topics—including race and politics—without alienating the mainstream. For example, the segment
        &quot;Weekend Update&quot; often features hosts Colin Jost (white) and Michael Che (black) trading racially
        charged jokes to highlight absurdities in modern discourse.</p>
      <h3 id="evolving-for-the-digital-age">Evolving for the Digital Age</h3>
      <p>Despite its rigid structure, SNL has successfully pivoted to accommodate changing media consumption habits. The
        turning point occurred in 2005 with the hiring of Andy Samberg, whose &quot;Digital Shorts&quot;—such as the
        viral hit <em>Lazy Sunday</em>—pioneered the format of pre-taped, shareable content.</p>
      <p>This shift has also influenced casting. While early eras were defined by volatile personalities, the modern
        show prizes versatility. Alumni like Tina Fey, who transitioned from head writer to anchor to global star,
        exemplify the current pipeline. The cast has also grown significantly more diverse, moving away from the
        predominantly white male cohorts of the 1970s to better reflect the American demographic.</p>
      <h3 id="the-political-barometer">The Political Barometer</h3>
      <p>SNL remains a primary satirist of American politics, typically seeing ratings spikes during election cycles.
        Unlike competitors such as <em>The Daily Show</em>, which often caters specifically to liberal audiences, SNL
        attempts to be an equal-opportunity mocker. Recent seasons have featured James Austin Johnson’s rambling Donald
        Trump alongside Maya Rudolph’s ambitious Kamala Harris.</p>
      <h3 id="the-future-of-the-franchise">The Future of the Franchise</h3>
      <p>Critics have frequently declared SNL &quot;dead,&quot; yet competitors—including Fox’s <em>Mad TV</em> and
        various international iterations of the SNL format—have failed to replicate its staying power. Larry David, a
        former SNL writer and creator of <em>Seinfeld</em>, has predicted the show could last &quot;another 200
        years.&quot;</p>
      <p>However, the show faces two existential questions:</p>
      <ul>
        <li><strong>The Medium:</strong> The future of SNL is inextricably tied to the health of NBC and linear
          television, which continues to struggle against streaming services.</li>
        <li><strong>Succession:</strong> With Michaels having no immediate plans to retire, industry speculation
          regarding his successor focuses on alumni such as <strong>Tina Fey</strong> or <strong>Seth Meyers</strong>.
        </li>
      </ul>
      <p>Whoever eventually takes the reins will face the daunting task of maintaining a 50-year-old institution that
        manages to be, in the words of its admirers, the only show to consistently combine the famous and the funny.</p>
      <span class="header-tag"></span>
      <h3>Boys’ Club</h3>
      <p>Hiring on “S.N.L.” has become increasingly diverse — six of the 10 new players in the past
        five years have been women or people of color. But looking at the casts over the long run, no season has
        featured more women than men.</p>
      <figure id="snl_gender"></figure>
      <p>A recreation of this infographic from the New York Times:</p>
      <img src="imgs/djqur8h0fvze1.jpeg" alt="The New York Times infographic" loading="lazy">
    </article>
  </main>
  <footer>
    <h2 id="footnote-label">Footnotes</h2>
    <ol>
      <li id="Economist"><strong>
          The Economist</strong>, <a
          href="https://www.economist.com/culture/2025/02/13/the-secret-to-the-success-of-saturday-night-live">The
          secret to the success of “Saturday Night Live”</a> <a href="#Economist-ref" aria-label="Back to content">↩</a>
      </li>
      <li id="NYT"><strong>
          New York Times</strong>, <a
          href="https://www.nytimes.com/2025/02/13/arts/television/saturday-night-live-stars.html">The
          ‘Saturday Night Live’ Stars Who
          Lasted, and the Ones Who Flamed Out</a> <a href="#NYT-ref" aria-label="Back to content">↩</a></li>
    </ol>

    <div>
      <p>Justin Chill &copy; 2025</p>
      <span><a href="https://github.com/JustinChill/JustinChill.github.io" target="_blank"><img src="imgs/github.svg"
            alt="GitHub logo" class="icon">Source code</a></span>
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/d3"></script>
  <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot"></script>

  <script type="text/javascript">

    var element = d3.select('figure').node();
    var width = element.getBoundingClientRect().width; // get width of article so graphic is responsive

    d3.json("data/snl_cast.json").then(function (cast) {

      var annotations = [
        { y: "Dan Aykroyd", x: 1980, text: "Dan Aykroyd and John Belushi became so famous as a result of 'S.N.L.' that they had to flee through the back window of a cabin they rented in Wisconsin after fans mobbed outside." },
        { y: "Eddie Murphy", x: 1985, text: "Murphy, just out of high school, called the talent coordinator Neil Levy three times a day until he scored an audition." },
        { y: "Julia Louis-Dreyfus", x: 1986, text: "Julia Louis-Dreyfus felt underused on 'S.N.L.' but she did meet Larry David, then a writer on the show. They teamed up on 'Seinfeld' five years later." },
        { y: "Chris Farley", x: 1996, text: "A 1995 New York magazine cover story on the show's dissolution featured tart jokes and feuds between checked-out cast members. 'They can't even fake forcing themselves to care,' said one of the show's writers." },
        { y: "Will Ferrell", x: 2003, text: "Before the 1999-2000 season, new cast members received more restrictive contracts written to limit them from jumping to Hollywood in the vein of Chevy Chase, Eddie Murphy and Mike Myers." },
        { y: "Sasheer Zamata", x: 2018, text: "Sasheer Zamata and Leslie Jones were hired following criticism from Thompson and Jay Pharoah about the absence of black women in the cast." },
        { y: "Bowen Yang", x: 2019, text: "Bowen Yang, a former 'S.N.L.' writer, became the first Chinese-American performer to join the cast." }
      ];

      // Flatten tenures for plotting
      const castTenures = [];
      cast.forEach(c => {
        c.tenures.forEach(t => {
          castTenures.push({
            name: c.name,
            gender: c.gender,
            start: t.start,
            end: t.end,
            type: t.type
          });
        });
      });


      // Eras data
      const eras = [
        {
          title: "The Big Bang",
          dates: "1975-80",
          start: 1975,
          yIndex: 0.15,
          text: "A mix of money, cocaine, adulation and all-night writing sessions led to explosive success and burnout for the show's original cast and writers. Five seasons after 'Saturday Night Live' began, amid its highest ratings ever, the last of the original Not Ready for Prime Time Players departed, along with the executive producer, Lorne Michaels.",
          img: "imgs/Belushi.jpg"
        },
        {
          title: "Sophomore Slump",
          dates: "1980-85",
          start: 1980,
          yIndex: 0.35,
          text: "A wunderkind, Eddie Murphy, along with one-year hires Martin Short and Billy Crystal, kept 'S.N.L.' alive for the next few years. But the show didn't begin to stabilize until a year after Michaels returned to the helm in 1985.",
          img: "imgs/b82c72c58b311d61b9cdb5e436426e31.jpg"
        },
        {
          title: "Easy Laughs",
          dates: "1985-95",
          start: 1990,
          yIndex: 0.5,
          text: "With a boost from the sketch-turned-movie 'Wayne's World,' the show enjoyed a run of popularity in the early '90s. Skits by Adam Sandler and Chris Farley kept the streak going for a couple of years, until network executives soured on their brand of broad humor. Farley and Sandler were fired, and Michaels set out to rebuild the show once again.",
          img: "imgs/image-621-900x506.png"
        },
        {
          title: "Sobering Up",
          dates: "2005-11",
          start: 2005,
          yIndex: 0.75,
          text: "Twenty years after 'S.N.L.' began, a less volatile culture emerged at Studio 8H. 'There's no drugs and there's no sex at the show now,' Tina Fey told the authors of 'Live From New York.' Female representation behind and in front of the camera ticked up, and Amy Poehler and Fey became the first female co-hosts of 'Weekend Update.'",
          img: "imgs/20250215_CUP506.jpg"
        },
        {
          title: "New Voices",
          dates: "2011-19",
          start: 2011,
          yIndex: 0.95,
          text: "The most recent iteration of 'S.N.L.' — starting with Kate McKinnon's hiring in 2011 — has found itself in the news for more than the edginess of its humor. Racist jokes from Shane Gillis and Melissa Villaseñor that surfaced on Twitter disrupted the tenure of some new hires before they began. The show has also responded to widespread pressure to feature a more diverse set of comedians.",
          img: "imgs/Marcello-Hernandez-Domingo-SNL-Publicity-H-2024.jpg"
        }
      ];

      function drawChart() {
        // Clear previous chart
        document.getElementById("snl_cast").innerHTML = "";

        // Re-calculate width
        width = element.getBoundingClientRect().width;
        let isMobile = width < 600;
        let chartHeight = cast.length * 15;

        // Calculate y-positions for eras based on the sorted domain
        const uniqueNames = new Set();
        const yDomain = d3.sort(cast, (a, b) => {
          const startA = Math.min(...a.tenures.map(t => t.start));
          const startB = Math.min(...b.tenures.map(t => t.start));
          if (startA !== startB) return startA - startB;
          return a.name.localeCompare(b.name);
        })
          .map(c => c.name)
          .filter((name, index, self) => self.indexOf(name) === index);

        // Map eras to specific y-positions (names)
        const erasWithY = eras.map(e => {
          const index = Math.floor(e.yIndex * yDomain.length);
          return { ...e, y: yDomain[index] };
        });

        // Calculate grid lines that stop at the last active cast member
        const yearRules = d3.range(1975, 2026).map(year => {
          // Find active members in this year
          const activeMembers = cast.filter(c => c.tenures.some(t => {
            const start = +t.start;
            const end = +t.end;
            return start <= year && end >= year;
          }));

          // Default to top member if no one is active (shouldn't happen for valid years)
          let bottomMember = yDomain[0];
          let topMember = yDomain[0];

          if (activeMembers.length > 0) {
            let maxIndex = -1;
            activeMembers.forEach(member => {
              const index = yDomain.indexOf(member.name);
              if (index > maxIndex) {
                maxIndex = index;
                bottomMember = member.name;
              }
            });
          }

          return { year, top: topMember, bottom: bottomMember };
        });

        var snl_cast = Plot.plot({
          width: width,
          height: chartHeight,
          x: {
            axis: "top",
            grid: false,
            nice: true,
            tickFormat: "d",
            tickSize: 0,
            // domain: [1975, 2026] // Ensure fixed domain for consistent positioning
          },
          y: {
            axis: null,
            domain: yDomain,
          },
          color: {
            domain: ["Male", "Female"],
            range: ["#9e9ac8", "#66c2a4"],
          },
          marginLeft: isMobile ? 80 : 120,
          marks: [
            Plot.ruleX(yearRules, {
              x: "year",
              y1: "top",    // Start from top member
              y2: "bottom", // Stop at active member
              stroke: d => d.year % 5 === 0 ? "#999" : "#e0e0e0",
              strokeOpacity: .65
            }),
            Plot.barX(castTenures.filter(d => d.start !== d.end), {
              y: "name",
              x1: "start",
              x2: "end",
              fill: "gender",
              fillOpacity: d => d.type === "Featured" ? 0.3 : 1,
              rx: 5,
              title: d => `${d.name}\n${d.start}-${d.end}\n${d.gender}\n${d.type}`
            }),
            Plot.dot(castTenures.filter(d => d.start === d.end), {
              x: "start",
              y: "name",
              fill: "gender",
              fillOpacity: d => d.type === "Featured" ? 0.3 : 1,
              r: 4,
              title: d => `${d.name}\n${d.start}\n${d.gender}\n${d.type}`
            }),
            Plot.textX(cast, {
              x: d => Math.min(...d.tenures.map(t => t.start)),
              y: "name",
              text: "name",
              textAnchor: "end",
              dx: -12,
              stroke: "white",
              strokeWidth: 4,
              fill: "currentColor",
              style: { paintOrder: "stroke", pointerEvents: "none" },
            }),
            Plot.text(annotations.filter(d => d.y !== "Bowen Yang" && d.y !== "Sasheer Zamata"), {
              x: "x",
              y: "y",
              text: "text",
              textAnchor: "start",
              dx: 10,
              // dy: d => d.y === "Dan Aykroyd" ? 10 : 0,
              lineWidth: 25,
              lineHeight: 1.2,
              stroke: "white",
              strokeWidth: 4,
              fill: "currentColor",
              style: { paintOrder: "stroke", pointerEvents: "none" },
              fontSize: 11
            }),
            Plot.text(annotations.filter(d => d.y === "Bowen Yang" || d.y === "Sasheer Zamata"), {
              x: "x",
              y: "y",
              text: "text",
              textAnchor: "end",
              dx: -175,
              lineWidth: 25,
              lineHeight: 1.2,
              fill: "currentColor",
              stroke: "white",
              strokeWidth: 4,
              style: { paintOrder: "stroke", pointerEvents: "none" },
              fontSize: 11
            }),
            // 1. The Big Bang
            Plot.image([erasWithY[0]], {
              frameAnchor: "middle", y: "y",
              src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",
              width: 190, height: 290, dx: 55, dy: -60, opacity: 0.85
            }),
            Plot.image([erasWithY[0]], {
              frameAnchor: "middle", y: "y", dx: 55, dy: -130,
              src: "img", width: 150, preserveAspectRatio: "xMidYMid meet"
            }),
            Plot.text([erasWithY[0]], {
              frameAnchor: "middle", y: "y", text: "title", textAnchor: "start", dx: -20, dy: -70,
              fontWeight: "bold", fontSize: 14, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[0]], {
              frameAnchor: "middle", y: "y", text: "dates", textAnchor: "start", dx: -20, dy: -52,
              fontSize: 12, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[0]], {
              frameAnchor: "middle", y: "y", text: "text", textAnchor: "start", dx: -20, dy: 0,
              lineWidth: 30, lineHeight: 1.2, fontSize: 11, fill: "currentColor", stroke: "white", strokeWidth: 3, style: { paintOrder: "stroke" }
            }),

            // 2. Sophomore Slump
            Plot.image([erasWithY[1]], {
              frameAnchor: "middle", y: "y",
              src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",
              width: 150, height: 290, dx: 100, dy: -110, opacity: 0.85
            }),
            Plot.image([erasWithY[1]], {
              frameAnchor: "middle", y: "y", dx: 95, dy: -140,
              src: "img", width: 150, preserveAspectRatio: "xMidYMid meet"
            }),
            Plot.text([erasWithY[1]], {
              frameAnchor: "middle", y: "y", text: "title", textAnchor: "start", dx: 20, dy: -70,
              fontWeight: "bold", fontSize: 14, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[1]], {
              frameAnchor: "middle", y: "y", text: "dates", textAnchor: "start", dx: 20, dy: -50,
              fontSize: 12, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[1]], {
              frameAnchor: "middle", y: "y", text: "text", textAnchor: "start", dx: 20, dy: -10,
              lineWidth: 30, lineHeight: 1.2, fontSize: 11, fill: "currentColor", stroke: "white", strokeWidth: 3, style: { paintOrder: "stroke" }
            }),

            // 3. Easy Laughs
            Plot.image([erasWithY[2]], {
              frameAnchor: "right", y: "y",
              src: "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",
              width: 190, height: 290, dx: -75, dy: -80, opacity: 0.85
            }),
            Plot.image([erasWithY[2]], {
              frameAnchor: "right", y: "y", dx: -75, dy: -130,
              src: "img", width: 150, preserveAspectRatio: "xMidYMid meet"
            }),
            Plot.text([erasWithY[2]], {
              frameAnchor: "right", y: "y", text: "title", textAnchor: "start", dx: -150, dy: -70,
              fontWeight: "bold", fontSize: 14, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[2]], {
              frameAnchor: "right", y: "y", text: "dates", textAnchor: "start", dx: -150, dy: -50,
              fontSize: 12, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[2]], {
              frameAnchor: "right", y: "y", text: "text", textAnchor: "start", dx: -150, dy: 0,
              lineWidth: 30, lineHeight: 1.2, fontSize: 11, fill: "currentColor", stroke: "white", strokeWidth: 3, style: { paintOrder: "stroke" }
            }),

            // 4. Sobering Up
            Plot.image([erasWithY[3]], {
              frameAnchor: "left", y: "y", dx: 75, dy: -110,
              src: "img", width: 150, preserveAspectRatio: "xMidYMid meet"
            }),
            Plot.text([erasWithY[3]], {
              frameAnchor: "left", y: "y", text: "title", textAnchor: "start", dx: 0, dy: -40,
              fontWeight: "bold", fontSize: 14, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[3]], {
              frameAnchor: "left", y: "y", text: "dates", textAnchor: "start", dx: 0, dy: -20,
              fontSize: 12, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[3]], {
              frameAnchor: "left", y: "y", text: "text", textAnchor: "start", dx: 0, dy: 30,
              lineWidth: 30, lineHeight: 1.2, fontSize: 11, fill: "currentColor", stroke: "white", strokeWidth: 3, style: { paintOrder: "stroke" }
            }),

            // 5. New Voices
            Plot.image([erasWithY[4]], {
              frameAnchor: "left", y: "y", dx: 105, dy: -110,
              src: "img", width: 150, preserveAspectRatio: "xMidYMid meet"
            }),
            Plot.text([erasWithY[4]], {
              frameAnchor: "left", y: "y", text: "title", textAnchor: "start", dx: 30, dy: -40,
              fontWeight: "bold", fontSize: 14, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[4]], {
              frameAnchor: "left", y: "y", text: "dates", textAnchor: "start", dx: 30, dy: -20,
              fontSize: 12, fill: "currentColor", stroke: "white", strokeWidth: 4, style: { paintOrder: "stroke" }
            }),
            Plot.text([erasWithY[4]], {
              frameAnchor: "left", y: "y", text: "text", textAnchor: "start", dx: 30, dy: 40,
              lineWidth: 30, lineHeight: 1.2, fontSize: 11, fill: "currentColor", stroke: "white", strokeWidth: 3, style: { paintOrder: "stroke" }
            })
          ],
        });

        document.getElementById("snl_cast").appendChild(snl_cast);

        // Re-add legend
        const colorScale = snl_cast.scale("color");
        const femaleColor = colorScale.apply("Female");
        const maleColor = colorScale.apply("Male");
        // Remove existing legend if any to avoid duplicates on redraw
        let existingLegend = document.querySelector(".custom-legend");
        if (existingLegend) existingLegend.remove();

        const legendHTML = `
            <div class="custom-legend">
            <div class="legend-header">Key</div>
            <div class="legend-label">Female</div>
            <div class="legend-label">Male</div>
            
            <div class="legend-label">Main cast</div>
            <div class="legend-swatch" style="background-color: ${femaleColor};"></div>
            <div class="legend-swatch" style="background-color: ${maleColor};"></div>
            
            <div class="legend-label">Featured</div>
            <div class="legend-swatch" style="background-color: ${femaleColor}; opacity: 0.3;"></div>
            <div class="legend-swatch" style="background-color: ${maleColor}; opacity: 0.3;"></div>
            </div>
        `;
        document.getElementById("snl_cast").insertAdjacentHTML('beforeend', legendHTML);
      } // end drawChart

      // Initial draw
      drawChart();

      // Redraw on resize
      window.addEventListener("resize", () => {
        drawChart();
      });


      // Data processing for second plot (Boys' Club)
      const expandedCast = [];
      cast.forEach(c => {
        c.tenures.forEach(t => {
          for (let year = t.start; year <= t.end; year++) {
            expandedCast.push({
              name: c.name,
              gender: c.gender,
              season: new Date(year, 0, 1) // Convert to Date object
            });
          }
        });
      });

      // Group by season to calculate x-offsets
      const seasonGroups = d3.group(expandedCast, d => d.season.getTime()); // Group by timestamp for reliable matching

      const plotData = [];
      for (const [seasonTime, members] of seasonGroups) {
        // Separate by gender
        const men = members.filter(d => d.gender === "Male").sort((a, b) => a.name.localeCompare(b.name));
        const women = members.filter(d => d.gender === "Female").sort((a, b) => a.name.localeCompare(b.name));

        men.forEach((d, i) => plotData.push({ ...d, x: -(i + 1) }));
        women.forEach((d, i) => plotData.push({ ...d, x: (i + 1) }));
      }

      var snl_gender = Plot.plot({
        width: width,
        height: 800,
        marginRight: 40,
        marginLeft: 40,
        x: {
          axis: false,
          domain: [-30, 30]
        },
        y: {
          axis: null,
          nice: true,
          reverse: true,
          type: "utc" // Explicitly time-based
        },
        marks: [
          Plot.dot(plotData, {
            x: "x",
            y: "season",
            fill: d => d.gender === "Male" ? "#8c6bb1" : "#41b6c4",
            r: 3.5,
            title: d => `${d.name} (${d.season.getFullYear()})`
          }),
          Plot.ruleX([0], { strokeOpacity: 0.5 }),
          // Decade markers
          Plot.ruleY([1980, 1990, 2000, 2010, 2020].map(y => new Date(y, 0, 1)), { strokeOpacity: 0.2 }),
          Plot.text([1980, 1990, 2000, 2010].map(y => ({ y: new Date(y, 0, 1), label: `${y}-${(y + 1).toString().slice(2)}` })), {
            y: "y", x: -28, text: "label", textAnchor: "start", fill: "#666"
          }),
          // Labels for Men / Women
          Plot.text([{ x: -5, label: "Men" }, { x: 5, label: "Women" }], {
            y: new Date(1974, 0, 1),
            x: "x", text: "label", fontWeight: "bold", fontSize: 14
          })
        ]
      });

      document.getElementById("snl_gender").appendChild(snl_gender);
    });
  </script>
</body>

</html>