<!DOCTYPE html>
<html lang="en">
<head>
	<title>To Don't List</title>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="style.css" />
	<script src="script.js"></script>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="A visualization of typographical terms">
	<meta name="author" content="Justin Chill">

	<style type="text/css">
		section.dontlist {
			margin: 50px auto;
			padding: 25px;
			/*max-width: 200px;*/
			border: 1px solid #c7c8cc;
			border-radius: 6px;
			color: #646a71;
			/*font-size: 0.75rem;*/
			background: #fff;
		}
		section.dontlist h1{
			font-size: 1em;
			text-align: left;
		}
		label{
			display: flex;
			align-items: center;
		}

		[role=progressbar] {
			position: relative;
			margin-top: 10px;
			width: 100%;
			height: 3px;
			border-radius: 2px;
			background: #dddee1;
		}
		[role=progressbar] div {
			width: 0;
			height: 3px;
			background: hsl(212, 92%, 43%);
		}
		[role=progressbar] p {
			position: absolute;
			clip: rect(0, 0, 0, 0);
		}

		.dontlist ul {
			margin: 10px 0 0;
			padding: 0;
			color: #666c74;
			list-style: none;
		}

		.dontlist span:hover{
			cursor: pointer;
		}
		.dontlist > li + li {
			margin-top: 10px;
		}

		.dontlist > input {
			display: block;
			position: absolute;
			top: 50%;
			left: 0;
			margin: 0;
			transform: translateY(-50%);
		}
		input:checked + span {
			text-decoration: line-through;
		}

		.dontlist input + span{
			padding-left: 10px;
		}

		body{
			counter-reset: section;                       /* Set a counter named 'section', and its initial value is 0. */
		}

		.columns{
			align-items: flex-start;
			justify-content: flex-start;
		}

		u{
			text-decoration-color: hsl(212, 92%, 43%);
		}
		.column p{
			padding: 1rem 0;
			/*      margin: 2rem 0;*/
		}
		.column p::before{
			counter-increment: section;  /* Increment the value of section counter by 1 */
			content: counter(section);  /* Display the count of 'Section ' */
			background: hsl(212, 92%, 43%);
			list-style: none;
			width: 2rem;
			height: 2rem;
			border-radius: 50%;
			display: inline-block;
			line-height: 2rem;
			color: white;
			font-weight: bold;
			font-family: "Lato", sans-serif;
			text-align: center;
			margin-right: 0.7rem;
		}		
	</style>

</head>
<body>
	<nav class="nav">
	  <div class="nav__list">
	    <a href="index.html" class="nav__item">Home</a>
	    <a href="blog.html" class="nav__item">Blog</a>
	    <a href="fun.html" class="nav__item">Fun</a>
	  </div>
	  <div class="nav__list">
	    <a href="http://linkedin.com/in/justinrichardhill/" class="nav__item" target="_blank">LinkedIn</a>
	    <a href="#" class="nav__item js-email-link">Email</a>
	  </div>
	</nav>

	<main role="main">
		<article>
			 <div class="article-hero">
			  <h2 class="article-category"></h2>
			  <h1 class="article-title">To-Don't List</h1>
			  <h2 class="article-subtitle"></h2>
			</div>

			<section class="dontlist">
				<h1>Don't do these things</h1>
				<div role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="11" aria-describedby="progress-text">
					<div></div>
					<p id="progress-text"><span id="percentage">9%</span>
						of your tasks are completed.
					</p>
				</div>
				<ul>
					<li>
						<label>
							<input type="checkbox"/><span>Go chasing waterfalls</span>
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox"/><span>Forget about Dre</span>
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox" checked="checked"/><span>Trip ðŸ§¢</span>
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox"/><span>Fear the reaper</span>
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox"/><span>Stop (believing)</span>
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox"/><span>Go breaking my heart</span>
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox"/><span>Let me down</span>
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox"/><span>Wish your girlfriend was hot like me</span>
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox"/><span>Worry, be happy ðŸ¥³</span>
						</label>
					</li>
					<li>
						<label>
							<input type="checkbox"/><span>Look now</span>
						</label>
					</li>
				</ul>
			</section>
			<p>Remember the <mark type="text" id="someInput" name="someInput">x</mark> simple to-don'ts above and you should be pretty much set for life.</p> 
			<p>Building a list of items is pretty straightforward using <b>HTML</b>, <b>CSS</b>, and <b>JavaScript</b>. The HTML contains the structure for the items and the progress bar. JavaScript is used to advance the progress bar as items are checked, and CSS makes everything look nice.</p>
			<p>
				To build the list above follow these three steps:
				<div class="column">
					<p>Create HTML <code>input</code> elements for each item in your list.</p> 
					<p>Use JavaScript to find and count the number of inputs. Total&nbsp;=&nbsp;<mark type="text" id="mark2" name="someInput">x</mark>.</p>
					<p>The progress bar uses <code>role="progressbar"</code> to be accessible<a href="#bar" aria-describedby="footnote-label" id="bar-ref"></a>. The width of the bar is calculated as: <b>percentage&nbsp;=&nbsp;(checked&nbsp;/&nbsp;total)&nbsp;*&nbsp;100</b>.</p>
					<p>Lastly, create a simple function to update the width of the progress bar each time the inputs are toggled. This makes the progress bar interactive depends on using input.</p>
				</div>
			</p>
				<p>Inspiration for this project from <a href="https://codepen.io/Moiety">ZoÃ« Bijl</a>!</p>
			</article>
		</main>

		<footer>
		  <h2 id="footnote-label">Footnotes</h2>
		  <ol>
		    <li id="bar">For more information on using the progressbar role attribute, see the <a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_progressbar_role">MDN Web Docs</a>.<a href="#bar-ref" aria-label="Back to content">â†©</a></li>

		  </ol>
		  <div>
		    <p>Justin Chill Â© 2022. Thanks for reading!</p>
		    <span><a href="https://github.com/JustinChill/JustinChill.github.io" target="_blank"><img src="imgs/github.svg" class="icon">Source code and feedback</a></span>    
		  </div>
		</footer>

		<script type="text/javascript">
			var progress = document.querySelectorAll("[role=progressbar]")[0];
			var progressIndicator = progress.getElementsByTagName("div")[0];
			var progressText = document.getElementById("percentage");
			var inputs = document.getElementsByTagName("input");
			var total = inputs.length;
			document.getElementById("someInput").innerHTML = total;
			document.getElementById("mark2").innerHTML = total;
			var checked;
			var percentage;

			for (var i = 0; i < total; i++) {
			  // Also handles fires via keyboard
			  inputs[i].addEventListener("click", updateProgress);
			}

			function updateProgress() {
				getNumberOfChecked();

				progress.setAttribute("aria-valuenow", checked);
				progress.setAttribute("aria-valuemax", total);
				progressIndicator.setAttribute("style", "width: " + percentage + "%");

			  // Update progress text for better AUX
			  progressText.innerHTML = Math.floor(percentage) + "%";
			}

			function getNumberOfChecked() {
			  // Reset checked number
			  checked = 0;

			  for (var i = 0; i < total; i++) {
			  	if (inputs[i].checked) {
			  		checked++;
			  	}
			  }

			  percentage = (checked / total) * 100;
			}

			updateProgress();
		</script>
	</body>
	</html>