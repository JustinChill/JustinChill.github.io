<!DOCTYPE html>
<html lang="en" class="no-js">

<head>
  <title>W.E.B. Du Bois visualizations</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description"
    content="Digital recreations of data visualizations made for W.E.B. Du Bois’ presentation at the “Paris Exposition Universelle” in 1900.">
  <meta name="author" content="Justin Chill">
  <!-- OpenGraph tags -->
  <meta name="robots" content="all">
  <meta content="en_US" property="og:locale">
  <meta content="JustinChill" property="og:site_name">
  <meta content="article" property="og:type">
  <meta content="https://justinchill.com/Du-Bois.html" property="og:url">
  <meta content="W.E.B. Du Bois visualizations" property="og:title">
  <meta
    content="Digital recreations of data visualizations made for W.E.B. Du Bois’ presentation at the “Paris Exposition Universelle” in 1900."
    property="og:description">
  <meta content="https://www.justinchill.com/blog.html" property="og:see_also">
  <link rel="canonical" href="https://www.justinchill.com/Du-Bois.html">

  <meta content="https://www.justinchill.com/imgs/service-pnp-ppmsca-33900-33923v.jpg" property="og:image">
  <meta content="https://www.justinchill.com/imgs/service-pnp-ppmsca-33900-33923v.jpg" property="twitter:image">
  <meta content="W.E.B. Du Bois visualization: American Negro newspapers and periodicals" property="og:image:alt">

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="W.E.B. Du Bois visualizations">
  <meta name="twitter:description"
    content="Digital recreations of data visualizations made for W.E.B. Du Bois’ presentation at the “Paris Exposition Universelle” in 1900.">

  <link type="text/plain" href="humans.txt" rel="author">
  <link rel="preload" href="style.css" as="style" />
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="/favicon.ico">
  <meta name="theme-color" content="#4C63B6">

  <script type="module">
    document.documentElement.classList.remove('no-js');
    document.documentElement.classList.add('js');
  </script>

  <style type="text/css">
    .comparison-row {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      margin: var(--spacer-2) 0;
    }

    @media (min-width: 768px) {
      .comparison-row {
        grid-template-columns: 1fr 1fr;
        align-items: start;
      }
    }

    .comparison-item {
      display: flex;
      flex-direction: column;
    }

    .comparison-item img {
      width: 100%;
      height: auto;
      margin-top: 0;
    }

    .comparison-item h3 {
      font-family: var(--font-ui);
      margin-top: 0;
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.5rem;
      color: var(--muted-color);
      text-align: center;
    }
  </style>
</head>

<body>
  <nav class="nav" role="navigation">
    <div class="nav__list">
      <a href="index.html" class="nav__item" aria-label="Homepage">Home</a>
      <a href="blog.html" class="nav__item" aria-label="Blog section">Blog</a>
      <a href="now.html" class="nav__item" aria-label="Now page">Now</a>
    </div>
    <div class="nav__list">
      <a href="http://linkedin.com/in/justinrichardhill/" class="nav__item" target="_blank">LinkedIn</a>
      <a href="#" class="nav__item js-email-link">Email</a>
    </div>
  </nav>

  <main role="main">
    <article>
      <div class="article-hero mid-size">
        <h2 class="article-category">Post</h2>
        <h1 class="article-title">W.E.B. Du Bois</h1>
        <h2 class="article-subtitle">Recreating data visualizations from the Paris Exposition Universelle</h2>
      </div>

      <p>W.E.B. Du Bois was an American sociologist, historian, professor, and civil rights activist—and pioneer in the
        use of data visualization. He and his team at Atlanta University created over 60 data visualizations for the
        World’s Fair held in 1900 in Paris, France. The exhibit consisted of the mentioned visuals plus photographs and
        portraits of everyday African Americans as well as their intellectual or political leaders. The aim of the
        exhibition was to show the progress made by African Americans in the United States despite many barriers.</p>

      <img src="imgs/service-pnp-ppmsca-33900-33923v.jpg" loading="lazy"
        alt="American Negro newspapers and periodicals">
      <h2>“American Negro newspapers and periodicals”</h2>
      <p><a href="https://www.loc.gov/pictures/collection/anedub/item/2014645377/">The original plate</a> was drawn with
        ink and watercolors. It is archived, along with dozens more data visualizations from the Paris show, at <a
          href="https://www.loc.gov/pictures/search/?q=LOT%2011931&amp;fi=number&amp;op=PHRASE&amp;va=exact&amp;co!=coll&amp;sg=true&amp;st=gallery">the
          Library of Congress</a>.</p>
      <h2>“Conjugal condition of American Negroes according to age periods”</h2>
      <div class="comparison-row mid-size">
        <div class="comparison-item">
          <h3>Original</h3>
          <img src="imgs/service-pnp-ppmsca-33900-33915v.jpg" loading="lazy"
            alt="Conjugal condition of American Negroes according to age periods">
        </div>
        <div class="comparison-item">
          <h3>Recreation</h3>
          <div id="conjugal-wrapper"
            style="display: flex; flex-direction: column; align-items: center; background-color: #faeed4; padding: 20px;">
            <!-- Title and Legend placeholders could go here -->
            <div style="font-family: 'Courier New', monospace; font-weight: bold; margin-bottom: 5px;">CONJUGAL
              CONDITION.</div>
            <div style="font-family: 'Courier New', monospace; margin-bottom: 20px;">CONDITION CONJUGALE.</div>

            <div style="display: flex; justify-content: center; width: 100%; align-items: stretch;">
              <div id="conjugal-men" style="flex: 1;"></div>
              <div id="conjugal-labels"
                style="width: 80px; display: flex; flex-direction: column; justify-content: space-around; padding-top: 20px; padding-bottom: 40px; font-family: 'Courier New', monospace; font-size: 11px; text-align: center;">
                <!-- Age labels will be inserted here or handled by plot structure, 
                      but standard Plot axis is easier to hide and use specific divs. 
                      Actually, let's use a central div for labels. -->
                <div>15-20</div>
                <div>20-25</div>
                <div>25-30</div>
                <div>30-35</div>
                <div>35-45</div>
                <div>45-55</div>
                <div>55-65</div>
                <div>65 & over</div>
              </div>
              <div id="conjugal-women" style="flex: 1;"></div>
            </div>

            <!-- Legend -->
            <div
              style="display: flex; gap: 20px; margin-top: 10px; font-family: 'Courier New', monospace; font-size: 10px;">
              <div style="display: flex; align-items: center; gap: 5px;">
                <div style="width: 10px; height: 10px; background: #dc143c;"></div> MARRIED - MARIÉS
              </div>
              <div style="display: flex; align-items: center; gap: 5px;">
                <div style="width: 10px; height: 10px; background: #3366cc;"></div> SINGLE - CELIBATAIRES
              </div>
              <div style="display: flex; align-items: center; gap: 5px;">
                <div style="width: 10px; height: 10px; background: #109618;"></div> WIDOWED - VEUVES
              </div>
            </div>
          </div>
        </div>
      </div>
      <h2>“Proportion of Freemen and Slaves Among American Negros”</h2>
      <div class="comparison-row mid-size">
        <div class="comparison-item">
          <h3>Original</h3>
          <img src="imgs/service-pnp-ppmsca-33900-33913v.jpg" loading="lazy"
            alt="Proportion of Freemen and Slaves Among American Negros">
        </div>
        <div class="comparison-item">
          <h3>Recreation</h3>
          <figure id="proportion"
            aria-label="Area chart showing the proportion of freemen and slaves among American Negroes from 1790 to 1870. The percentage of freemen remains low until 1868, when slavery was abolished.">
          </figure>
        </div>
      </div>

      <h2>“Negro landholders in various States of the United States.”</h2>
      <div class="comparison-row mid-size">
        <div class="comparison-item">
          <h3>Original</h3>
          <img src="imgs/service-pnp-ppmsca-33900-33918v.jpg" loading="lazy"
            alt="Black Landholders in Various States of the United States">
        </div>
        <div class="comparison-item">
          <h3>Recreation</h3>
          <figure id="landholders"
            aria-label="Stacked bar chart showing the percentage of black landholders vs. tenants in various US states.">
          </figure>
        </div>
      </div>

      <h2>“Mortality of Black People in America”</h2>
      <div class="comparison-row mid-size">
        <div class="comparison-item">
          <h3>Original</h3>
          <img src="imgs/mortality.png" loading="lazy" alt="Mortality of Black People in America">
        </div>
        <div class="comparison-item">
          <h3>Recreation</h3>
          <figure id="mortality"
            aria-label="Bar chart showing mortality rates of black people in America, comparing national averages to Philadelphia wards.">
          </figure>
        </div>
      </div>

      <h2>“Proportion of Total Negro Children of School Age Who Are Enrolled in the Public Schools.”</h2>
      <div class="comparison-row mid-size">
        <div class="comparison-item">
          <h3>Original</h3>
          <img src="imgs/school-enrollment.png" loading="lazy"
            alt="Proportion of Total Negro Children of School Age Who Are Enrolled in the Public Schools">
        </div>
        <div class="comparison-item">
          <h3>Recreation</h3>
          <figure id="school-enrollment"
            aria-label="Stacked bar chart showing the proportion of Negro children enrolled in public schools in 1876, 1886, and 1896.">
          </figure>
        </div>
      </div>

      <h2>“Enrollment in the Negro common schools of the former slave States of the United States.”</h2>
      <div class="comparison-row mid-size">
        <div class="comparison-item">
          <h3>Original</h3>
          <img src="imgs/common-schools.png" loading="lazy"
            alt="Enrollment in the Negro common schools of the former slave States of the United States">
        </div>
        <div class="comparison-item">
          <h3>Recreation</h3>
          <figure id="common-schools"
            aria-label="Bar chart showing enrollment in Negro common schools from 1876 to 1896.">
          </figure>
        </div>
      </div>

    </article>
  </main>
  <footer>
    <h2 id="footnote-label">Footnotes</h2>
    <ol>
      <li id="welsh"><a href="https://observablehq.com/collection/@palewire/w-e-b-du-bois">Ben Welsh</a> inspired these
        recreations after posting on Observable<a href="#welsh-ref" aria-label="Back to content">↩</a></li>
    </ol>

    <div>
      <p>Justin Chill &copy; 2026</p>
      <span><a href="https://github.com/JustinChill/JustinChill.github.io" target="_blank"><img src="imgs/github.svg"
            alt="GitHub logo" class="icon">Source code</a></span>
    </div>
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/d3"></script>
  <script src="https://cdn.jsdelivr.net/npm/@observablehq/plot"></script>

  <script type="text/javascript">
    var elementMid = d3.select('figure.mid-size').node();
    var widthMid = elementMid ? elementMid.getBoundingClientRect().width : d3.select('figure').node().getBoundingClientRect().width; // Fallback if mid-size doesn't exist
    var element = d3.select('figure:not(.mid-size)').node();
    var width = element.getBoundingClientRect().width;
    var size = 12;

    // Use Promises to async request data
    var promises = [d3.json("data/geo/land.json"),];

    // You can request multiple srcs in a promise
    myDataPromises = Promise.all(promises);

    // After data is successfully fetched, generate viz
    myDataPromises.then(function (data) {
      // Define the data. There's gotta be a better way to do this:
      var pyramid_data = [{
        type: 'Magazines',
        count: 3
      },
      {
        type: 'Daily Papers',
        count: 3
      },
      {
        type: 'School Papers',
        count: 11
      },
      {
        type: 'Weekly Papers Total',
        count: 136
      },
      {
        type: 'Grand Total',
        count: 153
      }
      ];
      var pyramid_colors = ({
        "Magazines": "#00277c",
        "Daily Papers": "#a6001c",
        "School Papers": "#efab00",
        "Weekly Papers Total": "#00277c",
        "Grand Total": "#5c371c",
      });

      var proportionData = [
        { year: 1790, free: 1.3, slaves: 92 }, // 1.3 + 92? No, 8% free. The chart is 100% total?
        // Original: 1790 (8% Free), 1800 (11%), 1810 (13.5%), 1820 (13%), 1830 (14%), 1840 (13%), 1850 (12%), 1860 (11%), 1870 (100% Free).
        // The black area represents Slaves. So Slaves % = 100 - Free %.
        { year: 1790, free: 8, slaves: 92 },
        { year: 1800, free: 11, slaves: 89 },
        { year: 1810, free: 13.5, slaves: 86.5 },
        { year: 1820, free: 13, slaves: 87 },
        { year: 1830, free: 14, slaves: 86 },
        { year: 1840, free: 13, slaves: 87 },
        { year: 1850, free: 12, slaves: 88 },
        { year: 1860, free: 11, slaves: 89 },
        { year: 1870, free: 100, slaves: 0 }
      ];

      var proportionOptions = {
        width: width,
        height: 500,
        marginTop: 100, // Increased for titles
        marginRight: 20,
        marginBottom: 30,
        marginLeft: 40,
        style: {
          fontSize: 12,
          fontFamily: "Courier New, monospace",
          backgroundColor: "#faeed4", // Keep overall SVG background beige for titles
        },
        x: {
          axis: "top",
          label: null,
          tickFormat: d => d.toString(),
          ticks: [1790, 1800, 1810, 1820, 1830, 1840, 1850, 1860, 1870],
          grid: false, // Manual grid lines for better control
          inset: 0, // Ensure chart starts flush at the edge
          domain: [1790, 1870]
        },
        y: {
          axis: null,
          domain: [0, 100],
          clamp: true
        },
        marks: [
          // Titles
          Plot.text([{ text: "PROPORTION OF FREEMEN AND SLAVES AMONG AMERICAN NEGROES ." }], {
            text: "text",
            frameAnchor: "top",
            dy: -70,
            fontSize: 14,
            fontWeight: "bold",
            fontFamily: "Courier New, monospace"
          }),
          Plot.text([{ text: "PROPORTION DES NÈGRES LIBRES ET DES ESCLAVES EN AMERIQUE ." }], {
            text: "text",
            frameAnchor: "top",
            dy: -50,
            fontSize: 12,
            fontFamily: "Courier New, monospace"
          }),
          Plot.text([{ text: "DONE BY ATLANTA UNIVERSITY ." }], {
            text: "text",
            frameAnchor: "top",
            dy: -30,
            fontSize: 10,
            fill: "#333", // Darker text on green/paper? 
            fontFamily: "Courier New, monospace"
          }),

          // Green Background for Chart Area (The "Free" portion)
          Plot.rect([{ x: 0 }], {
            x1: 1790, x2: 1870, y1: 0, y2: 100,
            fill: "#00aa00"
          }),

          // Grid Lines (Black vertical rules)
          Plot.ruleX([1790, 1800, 1810, 1820, 1830, 1840, 1850, 1860, 1870], {
            stroke: "black",
            strokeWidth: 0.5,
            strokeOpacity: 0.3
          }),

          // Black Area for Slaves (on top of green)
          Plot.areaY(proportionData, {
            x: "year",
            y: "slaves",
            fill: "black",
            curve: "linear" // Sharp lines between decades matches visual better than smooth curve
          }),

          // Labels (Percentages) - Manual placement based on data
          Plot.text(proportionData, {
            x: "year",
            y: "slaves", // Position at the boundary
            text: d => d.year === 1870 ? "100%" : d.free + "%", // 1870 is 100% Free
            dy: -15, // Just above the boundary (in the Green area)
            fill: "black",
            fontSize: 12,
            fontWeight: "bold"
          }),

          // "FREE - LIBRE" Label
          Plot.text([{ year: 1830, value: 90 }], {
            x: "year",
            y: "value",
            text: _ => "FREE - LIBRE",
            fill: "black",
            fontSize: 16,
            fontFamily: "Courier New, monospace",
            fontWeight: "bold"
          }),
          // "SLAVES ESCLAVES" Label
          Plot.text([{ year: 1830, value: 50 }], {
            x: "year",
            y: "value",
            text: _ => "SLAVES\nESCLAVES",
            fill: "#faeed4", // Paper color for contrast
            fontSize: 16,
            fontFamily: "Courier New, monospace",
            fontWeight: "bold"
          })
        ]
      };

      document.getElementById("proportion").appendChild(Plot.plot(proportionOptions));

      // Black Landholders Data
      // Order based on original plate: VA, SC, TX, NC, GA, MS, TN, LA, AR
      var landholdersData = [
        { state: "Virginia", type: "Owners", value: 27 },
        { state: "Virginia", type: "Tenants", value: 73 },
        { state: "South Carolina", type: "Owners", value: 18 },
        { state: "South Carolina", type: "Tenants", value: 82 },
        { state: "Texas", type: "Owners", value: 22 },
        { state: "Texas", type: "Tenants", value: 78 },
        { state: "North Carolina", type: "Owners", value: 19 },
        { state: "North Carolina", type: "Tenants", value: 81 },
        { state: "Georgia", type: "Owners", value: 12 },
        { state: "Georgia", type: "Tenants", value: 88 },
        { state: "Mississippi", type: "Owners", value: 13 },
        { state: "Mississippi", type: "Tenants", value: 87 },
        { state: "Tennessee", type: "Owners", value: 20 },
        { state: "Tennessee", type: "Tenants", value: 80 },
        { state: "Louisiana", type: "Owners", value: 12 },
        { state: "Louisiana", type: "Tenants", value: 88 },
        { state: "Arkansas", type: "Owners", value: 21 },
        { state: "Arkansas", type: "Tenants", value: 79 }
      ];

      var landholdersOptions = {
        width: width,
        height: 600, // Increased height for titles
        marginLeft: 120, // Balanced margins for centering
        marginRight: 50,
        marginTop: 120,   // Space for Titles
        style: {
          fontSize: 12,
          fontFamily: "Courier New, monospace",
          backgroundColor: "#faeed4",
        },
        x: {
          axis: null,
          domain: [0, 100],
          textAnchor: "end",
          label: null,
        },
        y: {
          label: null,
          domain: ["Virginia", "South Carolina", "Texas", "North Carolina", "Georgia", "Mississippi", "Tennessee", "Louisiana", "Arkansas"],
          padding: 0.35,
          inset: 0,
          tickSize: 0,
          tickFormat: d => d,
          type: "band",
          // Align text to the left (start) of the margin space
          textAnchor: "start",
          dx: -100 // Offset to the left edge of the margin (safe value)
        },
        color: {
          domain: ["Owners", "Tenants"],
          range: ["#faeed4", "black"], // Owners match background (beige), Tenants black
          legend: null
        },
        marks: [
          // TITLES (Centered)
          Plot.text([{ text: "Negro landholders in various States of the United States." }], {
            text: "text",
            frameAnchor: "top",
            dy: -90,
            fontSize: 16,
            fontFamily: "Courier New, monospace",
            fontWeight: "bold"
          }),
          Plot.text([{ text: "Proprietaires fonciers Nègres dans plusieurs Etats." }], {
            text: "text",
            frameAnchor: "top",
            dy: -65,
            fontSize: 12,
            fill: "#666", // Greener/Lighter text? Original is faded.
            fontFamily: "Courier New, monospace"
          }),
          Plot.text([{ text: "Done by Atlanta University." }], {
            text: "text",
            frameAnchor: "top",
            dy: -40,
            fontSize: 10,
            fill: "#666",
            fontFamily: "Courier New, monospace"
          }),

          // Stacked bars
          Plot.barX(landholdersData, Plot.stackX({
            y: "state",
            x: "value",
            fill: "type",
            stroke: "black",
            strokeWidth: 1,
            // Ensure Owners are on the left (stack order)
            order: (a, b) => a.type === "Owners" ? -1 : 1
          })),
          // Percentage Text inside Owners - Centered in the segment
          Plot.text(landholdersData, {
            y: "state",
            filter: d => d.type === "Owners",
            text: d => d.value + "%",
            x: d => d.value / 2, // Centered in the owners segment
            fill: "black",
            fontSize: 11,
            fontFamily: "Courier New, monospace"
          }),
          // Header Labels as X-axis (OWNERS. / TENANTS.)
          Plot.axisX({
            tickFormat: d => d === 13.5 ? "OWNERS" : "TENANTS",
            ticks: [13.5, 60],
            anchor: "top",
            tickSize: 0,
            fontSize: 12,
            fontFamily: "Courier New, monospace",
            fill: "#666"
          })
        ]
      };

      document.getElementById("landholders").appendChild(Plot.plot(landholdersOptions));

      // Mortality Data
      var mortalityData = [
        { group: "US", value: 32.4, color: "black" },
        { group: "US Cities", value: 33.7, color: "black" },
        { group: "5th Ward Slum", value: 48.5, color: "#ffd700" }, // Gold/Yellow
        { group: "7th Ward Mixed Class", value: 30.5, color: "#ffd700" },
        { group: "30th Ward Better Class", value: 21.7, color: "#ffd700" }
      ];

      var mortalityOptions = {
        width: width,
        height: 500, // Approximate height
        style: {
          fontSize: 12,
          fontFamily: "Courier New, monospace",
          backgroundColor: "#faeed4",
        },
        x: {
          axis: "bottom",
          label: null,
          domain: mortalityData.map(d => d.group),
          padding: 0.4
        },
        y: {
          axis: null,
          domain: [0, 50] // Max value is 48.5
        },
        color: {
          domain: ["black", "#ffd700"],
          range: ["black", "#ffd700"],
          legend: null
        },
        marks: [
          Plot.barY(mortalityData, {
            x: "group",
            y: "value",
            fill: "color",
            stroke: "black",
            strokeWidth: 1
          }),
          Plot.text(mortalityData, {
            x: "group",
            y: "value",
            text: "value",
            dy: -10, // Move label above bar
            fontSize: 14,
            fontWeight: "bold"
          })
        ]
      };

      document.getElementById("mortality").appendChild(Plot.plot(mortalityOptions));

      // School Enrollment Data
      var enrollmentData = [
        { year: "1876", type: "Enrolled", value: 37.59 },
        { year: "1876", type: "Not Enrolled", value: 100 - 37.59 },
        { year: "1886", type: "Enrolled", value: 56.66 },
        { year: "1886", type: "Not Enrolled", value: 100 - 56.66 },
        { year: "1896", type: "Enrolled", value: 57.29 },
        { year: "1896", type: "Not Enrolled", value: 100 - 57.29 }
      ];

      var enrollmentOptions = {
        width: width,
        height: 600,
        marginLeft: 60,
        marginRight: 60,
        marginTop: 100, // Space for titles
        style: {
          fontSize: 12,
          fontFamily: "Courier New, monospace",
          backgroundColor: "#faeed4", // Beige background
        },
        x: {
          axis: "top", // Years likely at top? Original has 1876, 1886, 1896 above bars.
          domain: ["1876", "1886", "1896"],
          padding: 0.4,
          tickSize: 0,
          label: null,
          tickFormat: d => d,
          fontSize: 14,
          fontWeight: "bold"
        },
        y: {
          axis: null,
          domain: [0, 100]
        },
        color: {
          domain: ["Enrolled", "Not Enrolled"],
          range: ["#dc143c", "black"] // Red (Crimson) and Black
        },
        marks: [
          // Titles
          Plot.text([{ text: "PROPORTION OF TOTAL NEGRO CHILDREN OF SCHOOL AGE WHO ARE ENROLLED IN THE PUBLIC SCHOOLS." }], {
            text: "text",
            frameAnchor: "top",
            dy: -70,
            fontSize: 12, // Small caps look?
            fontWeight: "bold",
            fontFamily: "Courier New, monospace"
          }),
          Plot.text([{ text: "PROPORTION DES ENFANTS NÈGRES EN ÂGE D'ÉCOLE ENREGISTRÉS DANS LES ÉCOLES PUBLIQUES." }], {
            text: "text",
            frameAnchor: "top",
            dy: -45,
            fontSize: 11,
            fontFamily: "Courier New, monospace"
          }),
          Plot.text([{ text: "DONE BY ATLANTA UNIVERSITY." }], {
            text: "text",
            frameAnchor: "top",
            dy: -20,
            fontSize: 9,
            fill: "#666",
            fontFamily: "Courier New, monospace"
          }),

          // Stacked Bars (Black bottom, Red top)
          Plot.barY(enrollmentData, {
            x: "year",
            y: "value",
            fill: "type",
            // Sort order: Not Enrolled (Black) first/bottom?
            // If we sort by type, and 'Not Enrolled' is Black, let's see.
            // Usually stackY stacks from y=0 up.
            // We want Black at bottom (0 to X) and Red on top (X to 100).
            order: (a, b) => a.type === "Not Enrolled" ? -1 : 1
          }),

          // Percentage Labels (inside Red/Enrolled)
          Plot.text(enrollmentData, {
            x: "year",
            y: "value", // Position based on value?
            filter: d => d.type === "Enrolled",
            text: d => d.value + "%",
            dy: 10, // Push down into the top bar? 
            // Ideally centered in the red bar or just inside top. 
            // If stacked, y is the top of the stack segment? 
            // No, standard stackY positions y at the top of the segment.
            // We want it visually centered in the red bar. 
            // Manual calculation would be better but let's try `dy` relative to top.
            fill: "black",
            fontSize: 14,
            fontWeight: "bold",
            fontFamily: "Courier New, monospace"
          }),

          // Legend (Bottom Left)
          // "PROPORTION" (Column 1), Red Square (Col 2), "OF CHILDREN ENROLLED" (Col 3)
          // "PROPORTION" (Column 1), Black Square (Col 2), "OF CHILDREN NOT ENROLLED" (Col 3)

          // Let's approximate visually with absolute coordinates (frameAnchor bottom-left)
          // Legend Row 1 (Red)
          Plot.text([{ text: "PROPORTION" }], { text: "text", frameAnchor: "bottom-left", dx: 10, dy: -60, fontSize: 10, fill: "#666" }),
          Plot.text([{ text: "PROPORTION" }], { text: "text", frameAnchor: "bottom-left", dx: 10, dy: -48, fontSize: 10, fill: "#666" }), // French? duplicate? Image says Proportion twice stacked?

          Plot.rect([{ type: "Enrolled" }], {
            x1: 0, x2: 0, y1: 0, y2: 0, // Dummy
            // We need absolute rect logic or use markers.
            // Easier to use a small separate mark with hardcoded values mapped to domain?
            // Or just draw a rect using data?
          }),
          // Using `Plot.rect` with `x` range implies scale.
          // Let's use `Plot.dot` with `symbol: square` and large size?
          Plot.dot([{ x: 0, y: 0 }], {
            frameAnchor: "bottom-left",
            dx: 90,
            dy: -55,
            symbol: "square",
            r: 8,
            fill: "#dc143c"
          }),
          Plot.text([{ text: "OF CHILDREN ENROLLED." }], { text: "text", frameAnchor: "bottom-left", dx: 110, dy: -60, fontSize: 10, textAnchor: "start" }),
          Plot.text([{ text: "D'ENFANTS ENREGISTRÉS." }], { text: "text", frameAnchor: "bottom-left", dx: 110, dy: -48, fontSize: 10, textAnchor: "start", fill: "#666" }),


          // Legend Row 2 (Black)
          Plot.text([{ text: "PROPORTION" }], { text: "text", frameAnchor: "bottom-left", dx: 10, dy: -20, fontSize: 10, fill: "#666" }),
          Plot.text([{ text: "PROPORTION" }], { text: "text", frameAnchor: "bottom-left", dx: 10, dy: -8, fontSize: 10, fill: "#666" }),

          Plot.dot([{ x: 0, y: 0 }], {
            frameAnchor: "bottom-left",
            dx: 90,
            dy: -15,
            symbol: "square",
            r: 8,
            fill: "black"
          }),
          Plot.text([{ text: "OF CHILDREN NOT ENROLLED." }], { text: "text", frameAnchor: "bottom-left", dx: 110, dy: -20, fontSize: 10, textAnchor: "start" }),
          Plot.text([{ text: "D'ENFANTS NON ENREGISTRÉS." }], { text: "text", frameAnchor: "bottom-left", dx: 110, dy: -8, fontSize: 10, textAnchor: "start", fill: "#666" })
        ]
      };

      document.getElementById("school-enrollment").appendChild(Plot.plot(enrollmentOptions));

      // Common Schools Data
      var schoolsData = [
        { label: "1876-7 — 571,506", value: 571506 },
        { label: "1880-1 — 802,374", value: 802374 },
        { label: "1885-6 — 1,048,659", value: 1048659 },
        { label: "1890-1 — 1,329,549", value: 1329549 },
        { label: "1895-6 — 1,429,713", value: 1429713 }
      ];

      var schoolsOptions = {
        width: width,
        height: 600,
        marginLeft: 180, // Space for "1876-7 — 571,506" labels
        marginRight: 20,
        marginTop: 100,
        style: {
          fontSize: 12,
          fontFamily: "Courier New, monospace",
          backgroundColor: "#faeed4",
        },
        x: {
          axis: null,
          domain: [0, 1600000] // Max value approx 1.4m
        },
        y: {
          axis: "left",
          label: null,
          domain: schoolsData.map(d => d.label),
          padding: 0.4,
          tickSize: 0,
          tickFormat: d => d,
          // Align styling to match image
          fontSize: 14,
          fontWeight: "bold",
          fontFamily: "Courier New, monospace"
        },
        marks: [
          // Titles
          Plot.text([{ text: "Enrollment in the Negro common schools of the former slave States" }], {
            text: "text",
            frameAnchor: "top",
            dy: -70,
            fontSize: 16,
            fontFamily: "Courier New, monospace"
          }),
          Plot.text([{ text: "of the United States." }], {
            text: "text",
            frameAnchor: "top",
            dy: -50,
            fontSize: 16,
            fontFamily: "Courier New, monospace"
          }),
          Plot.text([{ text: "Inscriptions dans les écoles primaires des anciens états esclaves des Etats Unis." }], {
            text: "text",
            frameAnchor: "top",
            dy: -30,
            fontSize: 11,
            fontFamily: "Courier New, monospace",
            fill: "#666"
          }),
          Plot.text([{ text: "Done by Atlanta University." }], {
            text: "text",
            frameAnchor: "top",
            dy: -10,
            fontSize: 9,
            fill: "#666",
            fontFamily: "Courier New, monospace"
          }),

          // Brown Bars
          Plot.barX(schoolsData, {
            x: "value",
            y: "label",
            fill: "#654321", // Brown
            stroke: "black",
            strokeWidth: 0.5
            // Image shows "texture" or watercolor effect? 
            // Solid brown is fine for recreation.
          })
        ]
      };

      document.getElementById("common-schools").appendChild(Plot.plot(schoolsOptions));

      // Conjugal Condition Data
      var ageGroups = ["15-20", "20-25", "25-30", "30-35", "35-45", "45-55", "55-65", "65 & over"];

      // Approx Data from Chart
      var menData = [
        { age: "15-20", status: "Single", value: 99.5 }, { age: "15-20", status: "Married", value: 0.5 }, { age: "15-20", status: "Widowed", value: 0 },
        { age: "20-25", status: "Single", value: 75 }, { age: "20-25", status: "Married", value: 24 }, { age: "20-25", status: "Widowed", value: 1 },
        { age: "25-30", status: "Single", value: 40 }, { age: "25-30", status: "Married", value: 58 }, { age: "25-30", status: "Widowed", value: 2 },
        { age: "30-35", status: "Single", value: 20 }, { age: "30-35", status: "Married", value: 75 }, { age: "30-35", status: "Widowed", value: 5 },
        { age: "35-45", status: "Single", value: 12 }, { age: "35-45", status: "Married", value: 80 }, { age: "35-45", status: "Widowed", value: 8 },
        { age: "45-55", status: "Single", value: 8 }, { age: "45-55", status: "Married", value: 80 }, { age: "45-55", status: "Widowed", value: 12 },
        { age: "55-65", status: "Single", value: 5 }, { age: "55-65", status: "Married", value: 75 }, { age: "55-65", status: "Widowed", value: 20 },
        { age: "65 & over", status: "Single", value: 4 }, { age: "65 & over", status: "Married", value: 60 }, { age: "65 & over", status: "Widowed", value: 36 }
      ];

      var womenData = [
        { age: "15-20", status: "Single", value: 82 }, { age: "15-20", status: "Married", value: 17 }, { age: "15-20", status: "Widowed", value: 1 },
        { age: "20-25", status: "Single", value: 42 }, { age: "20-25", status: "Married", value: 54 }, { age: "20-25", status: "Widowed", value: 4 },
        { age: "25-30", status: "Single", value: 22 }, { age: "25-30", status: "Married", value: 68 }, { age: "25-30", status: "Widowed", value: 10 },
        { age: "30-35", status: "Single", value: 15 }, { age: "30-35", status: "Married", value: 70 }, { age: "30-35", status: "Widowed", value: 15 },
        { age: "35-45", status: "Single", value: 10 }, { age: "35-45", status: "Married", value: 65 }, { age: "35-45", status: "Widowed", value: 25 },
        { age: "45-55", status: "Single", value: 8 }, { age: "45-55", status: "Married", value: 52 }, { age: "45-55", status: "Widowed", value: 40 },
        { age: "55-65", status: "Single", value: 6 }, { age: "55-65", status: "Married", value: 34 }, { age: "55-65", status: "Widowed", value: 60 },
        { age: "65 & over", status: "Single", value: 5 }, { age: "65 & over", status: "Married", value: 20 }, { age: "65 & over", status: "Widowed", value: 75 }
      ];

      var colors = ["#dc143c", "#109618", "#3366cc"]; // Red, Green, Blue
      // Stack order: Single (Blue) - Married (Red) - Widowed (Green) ?
      // Original: Single is solid 'blue'? Married 'red'. Widowed 'green'.
      // Based on usual bar stacking (bottom up):
      // Men (Left): Left edge is 100%. Center is 0%.
      // Women (Right): Left edge is 0%. Right edge is 100%.

      // Plot for Men (Left) - Reversed X
      var menPlot = Plot.plot({
        marginBottom: 30, // Space for axis
        marginTop: 20, // Title
        // width: (width / 2) - 40,
        // We can't easily rely on 'width' variable here for flex children unless we calc it.
        // Let's assume standard width and use CSS flex to resize naturally? 
        // But Plot needs a width. Let's use a fixed small width relative to container.
        width: 300,
        style: {
          backgroundColor: "#faeed4",
          fontSize: 10,
          fontFamily: "Courier New, monospace"
        },
        x: {
          domain: [100, 0], // Reversed for Left side
          label: null,
          axis: "bottom",
          ticks: [0, 50, 100],
          tickFormat: d => d + "%"
        },
        y: { axis: null, domain: ageGroups }, // Hidden Y axis, handled by central div
        color: { domain: ["Single", "Married", "Widowed"], range: ["#3366cc", "#dc143c", "#109618"] },
        marks: [
          Plot.barX(menData, {
            x: "value",
            y: "age",
            fill: "status",
            order: "status", // Keep consistent stack order
          }),
          Plot.text([{ text: "MEN - HOMMES" }], { text: "text", frameAnchor: "top", dy: -5, fontWeight: "bold" })
        ]
      });

      // Plot for Women (Right)
      var womenPlot = Plot.plot({
        marginBottom: 30,
        marginTop: 20,
        width: 300,
        style: {
          backgroundColor: "#faeed4",
          fontSize: 10,
          fontFamily: "Courier New, monospace"
        },
        x: {
          domain: [0, 100],
          label: null,
          axis: "bottom",
          ticks: [0, 50, 100],
          tickFormat: d => d + "%"
        },
        y: { axis: null, domain: ageGroups },
        color: { domain: ["Single", "Married", "Widowed"], range: ["#3366cc", "#dc143c", "#109618"] },
        marks: [
          Plot.barX(womenData, {
            x: "value",
            y: "age",
            fill: "status",
            order: "status", // Same order
          }),
          Plot.text([{ text: "WOMEN - FEMMES" }], { text: "text", frameAnchor: "top", dy: -5, fontWeight: "bold" })
        ]
      });

      document.getElementById("conjugal-men").appendChild(menPlot);
      document.getElementById("conjugal-women").appendChild(womenPlot);

      // Match heights of recreation charts to original images
      function syncHeights() {
        // Only run on larger screens where they are side-by-side
        if (window.innerWidth < 768) return;

        const rows = document.querySelectorAll('.comparison-row');
        rows.forEach(row => {
          const img = row.querySelector('.comparison-item img');
          const fig = row.querySelector('.comparison-item figure');

          if (img && fig) {
            const update = () => {
              if (img.offsetHeight > 0) {
                // Re-render the plot with the new height? 
                // Plot.plot produces an SVG/Div with fixed height/width attributes usually.
                // We might need to clear and re-render OR just force CSS height if the plot is responsive.
                // Observable Plot SVG has a viewBox. If we set CSS height, it validates?
                // No, preserving aspect ratio is default.
                // We should really re-render, but for now let's try CSS logic or just set height.
                // Actually, simpler: set the Plot height option to match the image height.
                // But Plot is generated once.
                // Let's at least enforce the container height.
                fig.style.height = img.offsetHeight + 'px';
                // Also find the SVG inside and set its height/width to 100%?
                const svg = fig.querySelector('svg');
                if (svg) {
                  svg.setAttribute('height', img.offsetHeight);
                  // Width is already full?
                  svg.style.height = '100%';
                  svg.style.width = '100%';
                }
              }
            };

            if (img.complete) update();
            else img.onload = update;
          }
        });
      }

      // Run on load and resize
      window.addEventListener('load', syncHeights);
      window.addEventListener('resize', syncHeights);
      // Run once immediately in case images are already cached
      syncHeights();
    });
  </script>
</body>

</html>