<!DOCTYPE html>
<html lang="en">
<head>
  <title>Plane crash deaths</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" />

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Number of people killed in air accidents since 1969.">
  <meta name="author" content="Justin Chill">

  <style type="text/css">
</style>
</head>
<body>
  <nav class="nav">
    <div class="nav__list">
      <a href="index.html" class="nav__item">Home</a>
      <a href="blog.html" class="nav__item">Blog</a>
      <a href="fun.html" class="nav__item">Fun</a>
    </div>
    <div class="nav__list">
      <a href="http://linkedin.com/in/justinrichardhill/" class="nav__item" target="_blank">LinkedIn</a>
      <a href="#" class="nav__item js-email-link">Email</a>
    </div>
  </nav>
  
  <main role="main">
    <article>
     <header>
      <h1>Plane Crash Deaths</h1>
      <h2 class="subtitle caps">Air travel is getting safer</h2>
      <figure id="plane_line"></figure>
      <figcaption>Data: GapMinder</figcaption>
    </header>

    <img src="http://cdn.static-economist.com/sites/default/files/images/2014/03/blogs/graphic-detail/20140315_gdc500_0.png">
</article>
</main>
<footer>
  <h2 id="footnote-label">Footnotes</h2>
  <ol>
    <li id="footnotes">Inspiration for using Aliens as boilderplate HTML elements from <a href="https://tailwind-typography-playground.vercel.app">this</a> lovely Tailwinds example <a href="#footnotes-ref" aria-label="Back to content">↩</a></li>

  </ol>
  <div>
    <p>Justin Chill © 2021. Thanks for reading!</p>
    <p><a href="https://github.com/JustinChill/JustinChill.github.io" target="_blank"><img src="imgs/github.svg" class="icon">Source code and feedback</a></p>    
  </div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/d3"></script>
<script src="https://cdn.jsdelivr.net/npm/@observablehq/plot"></script>

<script type="text/javascript">
  // Use Promises to async request data
  var promises = [d3.csv("data/plane_crash_deaths_annual_number.csv",d3.autoType)];

  // You can request multiple srcs in a promise
  myDataPromises = Promise.all(promises);

  // After data is successfully fetched, generate viz
  myDataPromises.then(function(data) {
    // Define the data
    var plane = data[0];

    var plane_line = {
      width: 720,
      y: {
        grid: true,
      },
      x:{
      },
      marks: [
      Plot.lineY(plane, Plot.binX({y: "sum"},{x: "country", strokeWidth: 1, stroke: "steelblue"})),
      ]
    };
    document.getElementById("plane_line").appendChild(Plot.plot(plane_line));
  });

  </script>
</body>
</html>